[{"content":"","date":"2024-10-09T15:09:13+08:00","permalink":"https://gkxgithub.github.io/p/newnewnewnewnewnew/","title":"Newnewnewnewnewnew"},{"content":"","date":"2024-10-09T14:52:11+08:00","permalink":"https://gkxgithub.github.io/p/newnewnew/","title":"Newnewnew"},{"content":"æ­£æ–‡æµ‹è¯• è€Œè¿™äº›å¹¶ä¸æ˜¯å®Œå…¨é‡è¦ï¼Œæ›´åŠ é‡è¦çš„é—®é¢˜æ˜¯ï¼Œ å¸¦ç€è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥å®¡è§†ä¸€ä¸‹å­¦ç”Ÿä¼šé€€ä¼šã€‚ æ—¢ç„¶å¦‚ä½•ï¼Œ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ æˆ‘ä»¬ä¸å¾—ä¸é¢å¯¹ä¸€ä¸ªéå¸¸å°´å°¬çš„äº‹å®ï¼Œé‚£å°±æ˜¯ï¼Œ å¯æ˜¯ï¼Œå³ä½¿æ˜¯è¿™æ ·ï¼Œå­¦ç”Ÿä¼šé€€ä¼šçš„å‡ºç°ä»ç„¶ä»£è¡¨äº†ä¸€å®šçš„æ„ä¹‰ã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œå‘ç”Ÿäº†ä¼šå¦‚ä½•ï¼Œä¸å‘ç”Ÿåˆä¼šå¦‚ä½•ã€‚ ç»è¿‡ä¸Šè¿°è®¨è®ºï¼Œ ç”Ÿæ´»ä¸­ï¼Œè‹¥å­¦ç”Ÿä¼šé€€ä¼šå‡ºç°äº†ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸è€ƒè™‘å®ƒå‡ºç°äº†çš„äº‹å®ã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•åº”è¯¥å¦‚ä½•å®ç°ã€‚ è¿™æ ·çœ‹æ¥ï¼Œ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ å°±æˆ‘ä¸ªäººæ¥è¯´ï¼Œå­¦ç”Ÿä¼šé€€ä¼šå¯¹æˆ‘çš„æ„ä¹‰ï¼Œä¸èƒ½ä¸è¯´éå¸¸é‡å¤§ã€‚ èå£«æ¯”äºšæ›¾ç»æåˆ°è¿‡ï¼Œäººçš„ä¸€ç”Ÿæ˜¯çŸ­çš„ï¼Œä½†å¦‚æœå‘åŠ£åœ°è¿‡è¿™ä¸€ç”Ÿï¼Œå°±å¤ªé•¿äº†ã€‚è¿™ä¼¼ä¹è§£ç­”äº†æˆ‘çš„ç–‘æƒ‘ã€‚ è«æ‰ç‰¹è¯´è¿‡ä¸€å¥å¯Œæœ‰å“²ç†çš„è¯ï¼Œè°å’Œæˆ‘ä¸€æ ·ç”¨åŠŸï¼Œè°å°±ä¼šå’Œæˆ‘ä¸€æ ·æˆåŠŸã€‚è¿™å¯å‘äº†æˆ‘ï¼Œ å¯¹æˆ‘ä¸ªäººè€Œè¨€ï¼Œå­¦ç”Ÿä¼šé€€ä¼šä¸ä»…ä»…æ˜¯ä¸€ä¸ªé‡å¤§çš„äº‹ä»¶ï¼Œè¿˜å¯èƒ½ä¼šæ”¹å˜æˆ‘çš„äººç”Ÿã€‚ å­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•åº”è¯¥å¦‚ä½•å®ç°ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ ä»è¿™ä¸ªè§’åº¦æ¥çœ‹ï¼Œ è¿™ç§äº‹å®å¯¹æœ¬äººæ¥è¯´æ„ä¹‰é‡å¤§ï¼Œç›¸ä¿¡å¯¹è¿™ä¸ªä¸–ç•Œä¹Ÿæ˜¯æœ‰ä¸€å®šæ„ä¹‰çš„ã€‚ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ äº†è§£æ¸…æ¥šå­¦ç”Ÿä¼šé€€ä¼šåˆ°åº•æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„å­˜åœ¨ï¼Œæ˜¯è§£å†³ä¸€åˆ‡é—®é¢˜çš„å…³é”®ã€‚ ä¸€èˆ¬æ¥è¯´ï¼Œ ç”Ÿæ´»ä¸­ï¼Œè‹¥å­¦ç”Ÿä¼šé€€ä¼šå‡ºç°äº†ï¼Œæˆ‘ä»¬å°±ä¸å¾—ä¸è€ƒè™‘å®ƒå‡ºç°äº†çš„äº‹å®ã€‚ é—®é¢˜çš„å…³é”®ç©¶ç«Ÿä¸ºä½•ï¼Ÿ è€Œè¿™äº›å¹¶ä¸æ˜¯å®Œå…¨é‡è¦ï¼Œæ›´åŠ é‡è¦çš„é—®é¢˜æ˜¯ã€‚\nå¥¥æ–¯ç‰¹æ´›å¤«æ–¯åŸºæ›¾ç»è¯´è¿‡ï¼Œå…±åŒçš„äº‹ä¸šï¼Œå…±åŒçš„æ–—äº‰ï¼Œå¯ä»¥ä½¿äººä»¬äº§ç”Ÿå¿å—ä¸€åˆ‡çš„åŠ›é‡ã€‚ã€€å¸¦ç€è¿™å¥è¯ï¼Œæˆ‘ä»¬è¿˜è¦æ›´åŠ æ…é‡çš„å®¡è§†è¿™ä¸ªé—®é¢˜ï¼š ä¸€èˆ¬æ¥è®²ï¼Œæˆ‘ä»¬éƒ½å¿…é¡»åŠ¡å¿…æ…é‡çš„è€ƒè™‘è€ƒè™‘ã€‚ æ—¢ç„¶å¦‚æ­¤ï¼Œ è¿™ç§äº‹å®å¯¹æœ¬äººæ¥è¯´æ„ä¹‰é‡å¤§ï¼Œç›¸ä¿¡å¯¹è¿™ä¸ªä¸–ç•Œä¹Ÿæ˜¯æœ‰ä¸€å®šæ„ä¹‰çš„ã€‚ å¸¦ç€è¿™äº›é—®é¢˜ï¼Œæˆ‘ä»¬æ¥å®¡è§†ä¸€ä¸‹å­¦ç”Ÿä¼šé€€ä¼šã€‚ æˆ‘è®¤ä¸ºï¼Œ æˆ‘è®¤ä¸ºï¼Œ åœ¨è¿™ç§å›°éš¾çš„æŠ‰æ‹©ä¸‹ï¼Œæœ¬äººæ€æ¥æƒ³å»ï¼Œå¯é£Ÿéš¾å®‰ã€‚ é—®é¢˜çš„å…³é”®ç©¶ç«Ÿä¸ºä½•ï¼Ÿ æ¯ä¸ªäººéƒ½ä¸å¾—ä¸é¢å¯¹è¿™äº›é—®é¢˜ã€‚ åœ¨é¢å¯¹è¿™ç§é—®é¢˜æ—¶ï¼Œ è¦æƒ³æ¸…æ¥šï¼Œå­¦ç”Ÿä¼šé€€ä¼šï¼Œåˆ°åº•æ˜¯ä¸€ç§æ€ä¹ˆæ ·çš„å­˜åœ¨ã€‚ æˆ‘è®¤ä¸ºï¼Œ æ—¢ç„¶å¦‚æ­¤ï¼Œ æ¯ä¸ªäººéƒ½ä¸å¾—ä¸é¢å¯¹è¿™äº›é—®é¢˜ã€‚ åœ¨é¢å¯¹è¿™ç§é—®é¢˜æ—¶ï¼Œ é‚£ä¹ˆï¼Œ æˆ‘è®¤ä¸ºï¼Œ å­¦ç”Ÿä¼šé€€ä¼šå› ä½•è€Œå‘ç”Ÿã€‚\nå¼•ç”¨ æ€å¿µæ˜¯æœ€æš–çš„å¿§ä¼¤åƒä¸€åŒç¿…è†€\nè®©æˆ‘åœä¸äº†é£ä¸è¿œåœ¨è¿‡å¾€æ¸¸è¡\nä¸å‘Šè€Œåˆ«çš„ä½  å°±ç®—ä¸ºäº†æˆ‘ç€æƒ³\nè¿™ä¹ˆæ²‰ç—›çš„å‘µæŠ¤ æˆ‘æ€ä¹ˆèƒ½ç¿±ç¿”\næœ€æš–çš„æ†‚å‚· - ç”°é¦¥ç”„\nå›¾ç‰‡ 1 2 3 ![Photo by Florian Klauer on Unsplash](florian-klauer-nptLmg6jqDo-unsplash.jpg) ![Photo by Luca Bravo on Unsplash](luca-bravo-alS7ewQ41M8-unsplash.jpg) ![Photo by Helena Hertz on Unsplash](helena-hertz-wWZzXlDpMog-unsplash.jpg) ![Photo by Hudai Gayiran on Unsplash](hudai-gayiran-3Od_VKcDEAA-unsplash.jpg) ç›¸å†Œè¯­æ³•æ¥è‡ª Typlog\n","date":"2020-09-09T00:00:00Z","image":"https://gkxgithub.github.io/p/test-chinese/helena-hertz-wWZzXlDpMog-unsplash_hu4699868770670889127.jpg","permalink":"https://gkxgithub.github.io/p/test-chinese/","title":"Chinese Test"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating.\nâ€” Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code A B C D E F Lorem ipsum dolor sit amet, consectetur adipiscing elit. Phasellus ultricies, sapien non euismod aliquam, dui ligula tincidunt odio, at accumsan nulla sapien eget ex. Proin eleifend dictum ipsum, non euismod ipsum pulvinar et. Vivamus sollicitudin, quam in pulvinar aliquam, metus elit pretium purus Proin sit amet velit nec enim imperdiet vehicula. Ut bibendum vestibulum quam, eu egestas turpis gravida nec Sed scelerisque nec turpis vel viverra. Vivamus vitae pretium sapien Code Blocks Code block with backticks 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode 1 2 3 4 5 6 7 8 9 10 \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Diff code block 1 2 3 4 5 [dependencies.bevy] git = \u0026#34;https://github.com/bevyengine/bevy\u0026#34; rev = \u0026#34;11f52b8c72fc3a568e8bb4a4cd1f3eb025ac2e13\u0026#34; - features = [\u0026#34;dynamic\u0026#34;] + features = [\u0026#34;jpeg\u0026#34;, \u0026#34;dynamic\u0026#34;] List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL + ALT + Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nHyperlinked image The above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2019-03-11T00:00:00Z","image":"https://gkxgithub.github.io/p/markdown-syntax-guide/pawel-czerwinski-8uZPynIu-rQ-unsplash_hu6307248181568134095.jpg","permalink":"https://gkxgithub.github.io/p/markdown-syntax-guide/","title":"Markdown Syntax Guide"},{"content":"Lorem est tota propiore conpellat pectoribus de pectora summo.\nRedit teque digerit hominumque toris verebor lumina non cervice subde tollit usus habet Arctonque, furores quas nec ferunt. Quoque montibus nunc caluere tempus inhospita parcite confusaque translucet patri vestro qui optatis lumine cognoscere flos nubis! Fronde ipsamque patulos Dryopen deorum.\nExierant elisi ambit vivere dedere Duce pollice Eris modo Spargitque ferrea quos palude Rursus nulli murmur; hastile inridet ut ab gravi sententia! Nomine potitus silentia flumen, sustinet placuit petis in dilapsa erat sunt. Atria tractus malis.\nComas hunc haec pietate fetum procerum dixit Post torum vates letum Tiresia Flumen querellas Arcanaque montibus omnes Quidem et Vagus elidunt The Van de Graaf Canon\nMane refeci capiebant unda mulcebat Victa caducifer, malo vulnere contra dicere aurato, ludit regale, voca! Retorsit colit est profanae esse virescere furit nec; iaculi matertera et visa est, viribus. Divesque creatis, tecta novat collumque vulnus est, parvas. Faces illo pepulere tempus adest. Tendit flamma, ab opes virum sustinet, sidus sequendo urbis.\nIubar proles corpore raptos vero auctor imperium; sed et huic: manus caeli Lelegas tu lux. Verbis obstitit intus oblectamina fixis linguisque ausus sperare Echionides cornuaque tenent clausit possit. Omnia putatur. Praeteritae refert ausus; ferebant e primus lora nutat, vici quae mea ipse. Et iter nil spectatae vulnus haerentia iuste et exercebat, sui et.\nEurytus Hector, materna ipsumque ut Politen, nec, nate, ignari, vernum cohaesit sequitur. Vel mitis temploque vocatus, inque alis, oculos nomen non silvis corpore coniunx ne displicet illa. Crescunt non unus, vidit visa quantum inmiti flumina mortis facto sic: undique a alios vincula sunt iactata abdita! Suspenderat ego fuit tendit: luna, ante urbem Propoetides parte.\n","date":"2019-03-09T00:00:00Z","image":"https://gkxgithub.github.io/p/placeholder-text/matt-le-SJSpo9hQf7s-unsplash_hu10664154974910995856.jpg","permalink":"https://gkxgithub.github.io/p/placeholder-text/","title":"Placeholder Text"},{"content":"Mathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.\nIn this example we will be using KaTeX\nCreate a partial under /layouts/partials/math.html Within this partial reference the Auto-render Extension or host these scripts locally. Include the partial in your templates like so: 1 2 3 {{ if or .Params.math .Site.Params.math }} {{ partial \u0026#34;math.html\u0026#34; . }} {{ end }} To enable KaTeX globally set the parameter math to true in a project\u0026rsquo;s configuration To enable KaTeX on a per page basis include the parameter math: true in content files Note: Use the online reference of Supported TeX Functions\nExamples Inline math: $\\varphi = \\dfrac{1+\\sqrt5}{2}= 1.6180339887â€¦$\nBlock math: $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$\n","date":"2019-03-08T00:00:00Z","permalink":"https://gkxgithub.github.io/p/math-typesetting/","title":"Math Typesetting"},{"content":"Emoji can be enabled in a Hugo project in a number of ways.\nThe emojify function can be called directly in templates or Inline Shortcodes.\nTo enable emoji globally, set enableEmoji to true in your site\u0026rsquo;s configuration and then you can type emoji shorthand codes directly in content files; e.g.\nğŸ™ˆ :see_no_evil: ğŸ™‰ :hear_no_evil: ğŸ™Š :speak_no_evil:\nThe Emoji cheat sheet is a useful reference for emoji shorthand codes.\nN.B. The above steps enable Unicode Standard emoji characters and sequences in Hugo, however the rendering of these glyphs depends on the browser and the platform. To style the emoji you can either use a third party emoji font or a font stack; e.g.\n1 2 3 .emoji { font-family: Apple Color Emoji, Segoe UI Emoji, NotoColorEmoji, Segoe UI Symbol, Android Emoji, EmojiSymbols; } ","date":"2019-03-05T00:00:00Z","image":"https://gkxgithub.github.io/p/emoji-support/the-creative-exchange-d2zvqp3fpro-unsplash_hu5876398126655421130.jpg","permalink":"https://gkxgithub.github.io/p/emoji-support/","title":"Emoji Support"},{"content":"1.å¿«é€Ÿå…¥é—¨ 1.1yum wget docker 1.1.1yum YUM æ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œè½¯ä»¶åŒ…ç®¡ç†å·¥å…·ï¼Œä¸»è¦ç”¨äºåŸºäº RPM çš„ Linux å‘è¡Œç‰ˆï¼ˆå¦‚ CentOSã€Red Hat Enterprise Linuxã€Fedora ç­‰ï¼‰ã€‚YUM æ˜¯ â€œYellowdog Updater, Modifiedâ€ çš„ç¼©å†™ã€‚å®ƒçš„ä¸»è¦åŠŸèƒ½åŒ…æ‹¬ï¼š\n1ã€è‡ªåŠ¨è§£å†³ä¾èµ–å…³ç³»ï¼šYUM èƒ½å¤Ÿè‡ªåŠ¨è§£å†³å®‰è£…è½¯ä»¶åŒ…æ—¶é‡åˆ°çš„ä¾èµ–é—®é¢˜ã€‚\n2ã€ç®€åŒ–è½¯ä»¶ç®¡ç†ï¼šç”¨æˆ·å¯ä»¥è½»æ¾åœ°å®‰è£…ã€æ›´æ–°å’Œåˆ é™¤è½¯ä»¶åŒ…ã€‚\n3ã€æ”¯æŒå¤šä¸ªä»“åº“ï¼šYUM æ”¯æŒä»å¤šä¸ªè½¯ä»¶ä»“åº“ï¼ˆrepositoriesï¼‰ä¸‹è½½å’Œå®‰è£…è½¯ä»¶åŒ…ã€‚\n4ã€æ˜“äºæ›´æ–°ç³»ç»Ÿï¼šé€šè¿‡ç®€å•çš„å‘½ä»¤ï¼Œç”¨æˆ·å¯ä»¥è½»æ¾åœ°æ›´æ–°ç³»ç»Ÿä¸­çš„æ‰€æœ‰è½¯ä»¶åŒ…ã€‚\nå¸¸è§çš„YUMå‘½ä»¤åŒ…æ‹¬ï¼š\nyum list | grep \u0026lt;è½¯ä»¶åŒ…å\u0026gt;ï¼šæŸ¥æ‰¾è½¯ä»¶åŒ…ã€‚\nyum install \u0026lt;è½¯ä»¶åŒ…å\u0026gt;ï¼šå®‰è£…è½¯ä»¶åŒ…ã€‚\nyum remove \u0026lt;è½¯ä»¶åŒ…å\u0026gt;ï¼šåˆ é™¤è½¯ä»¶åŒ…ã€‚\nyum update \u0026lt;è½¯ä»¶åŒ…å\u0026gt;ï¼šæ›´æ–°è½¯ä»¶åŒ…ã€‚\nyum search \u0026lt;å…³é”®è¯\u0026gt;ï¼šæœç´¢è½¯ä»¶åŒ…ã€‚\nyum info \u0026lt;è½¯ä»¶åŒ…å\u0026gt;ï¼šæ˜¾ç¤ºè½¯ä»¶åŒ…çš„è¯¦ç»†ä¿¡æ¯ã€‚\nä½¿ç”¨ä¹‹å‰è¦å®‰è£…å¥½ç›¸å…³çš„é…ç½®ä»¥åŠyumæºã€‚\n1.1.2wget wgetå‘½ä»¤æ˜¯ä¸€ä¸ªåœ¨Linuxå’Œç±»Unixæ“ä½œç³»ç»Ÿä¸­ç»å¸¸ä½¿ç”¨çš„ç½‘ç»œå‘½ä»¤ï¼Œç”¨é€”æ˜¯ä»æŒ‡å®šçš„URLä¸‹è½½æ–‡ä»¶ã€‚å®ƒæ”¯æŒHTTPã€HTTPSå’ŒFTPåè®®ï¼Œæ”¯æŒæ–­ç‚¹ç»­ä¼ ï¼Œå¯ä»¥ä¸‹è½½æ•´ä¸ªç½‘ç«™ã€‚ åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/jks212454/article/details/132345108\n1.1.3docker Docker ï¼šæ˜¯ä¸€ä¸ªå¼€æºçš„å®¹å™¨åŒ–å¹³å°ï¼Œå®ƒå…è®¸å¼€å‘è€…å°†åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–æ‰“åŒ…è¿›è½»é‡çº§ã€å¯ç§»æ¤çš„å®¹å™¨ä¸­ï¼Œå®ç°å¿«é€Ÿã€ä¸€è‡´å’Œé«˜æ•ˆçš„å¼€å‘ã€æµ‹è¯•å’Œéƒ¨ç½² åŒæ—¶æä¾›äº†ç¯å¢ƒéš”ç¦»ï¼Œä½¿å¾—æ¯ä¸ªå®¹å™¨éƒ½æ‹¥æœ‰ç‹¬ç«‹çš„æ–‡ä»¶ç³»ç»Ÿå’Œç½‘ç»œé…ç½®ï¼Œäº’ä¸å½±å“ï¼›é•œåƒç®¡ç†åŠŸèƒ½è®©åº”ç”¨åŠå…¶è¿è¡Œç¯å¢ƒå¯ä»¥è½»æ¾åœ°è¿›è¡Œç‰ˆæœ¬æ§åˆ¶å’Œåˆ†å‘ï¼›\nDocker é€šè¿‡å®¹å™¨åŒ–æŠ€æœ¯ï¼Œä¸ºé¡¹ç›®å¼€å‘ã€éƒ¨ç½²å’Œè¿ç»´æä¾›äº†ä¸€å¥—é«˜æ•ˆã€çµæ´»çš„è§£å†³æ–¹æ¡ˆï¼Œå¸®åŠ©é¡¹ç›®å›¢é˜Ÿè§£å†³äº†ç¯å¢ƒä¸€è‡´æ€§ã€ä¾èµ–ç®¡ç†ã€å¼€å‘æ•ˆç‡ã€æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ã€å¾®æœåŠ¡æ¶æ„ã€èµ„æºéš”ç¦»ã€å¼¹æ€§ä¼¸ç¼©ã€å¿«é€Ÿéƒ¨ç½²ã€å¤šç§Ÿæˆ·ç¯å¢ƒã€è°ƒè¯•èƒ½åŠ›ã€èµ„æºåˆ©ç”¨ç‡ã€è·¨å¹³å°æ”¯æŒå’Œæœ¬åœ°å¼€å‘è¿œç¨‹éƒ¨ç½²ç­‰ä¸€ç³»åˆ—é—®é¢˜ï¼›\ndockerçš„å®‰è£…å’Œé…ç½®è¯¦æƒ…\nåŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_66851231/article/details/138728913\n1.1.4å…³ç³» Dockerç›´æ¥æ‹‰å–é•œåƒè¿›è¡Œä½¿ç”¨ä¸yumå®‰è£…è½¯ä»¶åœ¨æŸäº›æ–¹é¢ç›¸ä¼¼ï¼Œéƒ½æä¾›äº†ç®€æ´çš„å®‰è£…æ–¹å¼ï¼Œä½†å®ƒä»¬åœ¨å®ç°æœºåˆ¶å’Œåº”ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜æ˜¾å·®å¼‚ã€‚\nç®€æ´æ€§ï¼š\nDockeræ‹‰å–é•œåƒï¼šç”¨æˆ·å¯ä»¥é€šè¿‡ç®€å•çš„docker pull [é•œåƒåç§°]å‘½ä»¤ä»Docker Hubæˆ–å…¶ä»–é•œåƒä»“åº“æ‹‰å–æ‰€éœ€çš„é•œåƒï¼Œè¿™äº›é•œåƒåŒ…å«äº†å®Œæ•´çš„åº”ç”¨ç¨‹åºåŠå…¶ä¾èµ–ç¯å¢ƒï¼Œä½¿å¾—éƒ¨ç½²å˜å¾—å¿«é€Ÿä¸”ä¸€è‡´ã€‚ yumå®‰è£…è½¯ä»¶ï¼šyumåŒæ ·æä¾›äº†ç®€æ´çš„å®‰è£…å‘½ä»¤yum install [è½¯ä»¶åŒ…åç§°]ï¼Œèƒ½å¤Ÿè‡ªåŠ¨å¤„ç†ä¾èµ–å…³ç³»å¹¶å®‰è£…è½¯ä»¶åŒ…ï¼Œä½†å®ƒæ˜¯é’ˆå¯¹Linuxç³»ç»Ÿä¸­çš„å•ä¸ªè½¯ä»¶åŒ…æˆ–åº”ç”¨ç¨‹åºè¿›è¡Œå®‰è£…ã€‚\nå®ç°æœºåˆ¶ï¼š\nDockerï¼šé€šè¿‡å®¹å™¨åŒ–æŠ€æœ¯ï¼Œå°†åº”ç”¨ç¨‹åºåŠå…¶è¿è¡Œç¯å¢ƒæ‰“åŒ…æˆä¸€ä¸ªç‹¬ç«‹çš„å®¹å™¨ï¼Œå®ç°äº†åº”ç”¨ç¨‹åºä¸å®¿ä¸»æœºçš„è§£è€¦ï¼Œç¡®ä¿äº†åº”ç”¨ç¨‹åºåœ¨ä¸åŒç¯å¢ƒä¸­çš„ä¸€è‡´æ€§å’Œå¯ç§»æ¤æ€§ã€‚ yumï¼šåŸºäºRPMåŒ…ç®¡ç†ï¼Œé€šè¿‡è®¿é—®æŒ‡å®šçš„è½¯ä»¶ä»“åº“ï¼Œä¸‹è½½å¹¶å®‰è£…è½¯ä»¶åŒ…åŠå…¶ä¾èµ–é¡¹ï¼Œä¸»è¦ç”¨äºLinuxç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†ã€‚\nåº”ç”¨åœºæ™¯ï¼š\nDockerï¼šæ›´é€‚ç”¨äºéœ€è¦å¿«é€Ÿéƒ¨ç½²ã€æ‰©å±•å’Œç®¡ç†å¤æ‚åº”ç”¨ç¨‹åºçš„åœºæ™¯ï¼Œå¦‚å¾®æœåŠ¡æ¶æ„ã€æŒç»­é›†æˆ/æŒç»­éƒ¨ç½²ï¼ˆCI/CDï¼‰ç­‰ã€‚ yumï¼šä¸»è¦ç”¨äºLinuxç³»ç»Ÿçš„æ—¥å¸¸è½¯ä»¶åŒ…ç®¡ç†ï¼ŒåŒ…æ‹¬ç³»ç»Ÿæ›´æ–°ã€å®‰å…¨è¡¥ä¸å®‰è£…ä»¥åŠç”¨æˆ·è‡ªå®šä¹‰è½¯ä»¶åŒ…çš„å®‰è£…ç­‰ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œè™½ç„¶Dockeræ‹‰å–é•œåƒè¿›è¡Œä½¿ç”¨ä¸yumå®‰è£…è½¯ä»¶åœ¨ç®€æ´æ€§æ–¹é¢æœ‰æ‰€ç›¸ä¼¼ï¼Œä½†å®ƒä»¬åœ¨å®ç°æœºåˆ¶å’Œåº”ç”¨åœºæ™¯ä¸Šå­˜åœ¨æ˜¾è‘—å·®å¼‚ã€‚Dockeræä¾›äº†ä¸€ç§æ›´é«˜çº§åˆ«çš„åº”ç”¨ç¨‹åºéƒ¨ç½²å’Œç®¡ç†æ–¹å¼ï¼Œè€Œyumåˆ™æ›´ä¾§é‡äºLinuxç³»ç»Ÿçš„è½¯ä»¶åŒ…ç®¡ç†ã€‚\nwgetå’Œyumæ˜¯Linuxç³»ç»Ÿä¸­å¸¸ç”¨çš„ä¸¤ä¸ªå·¥å…·ï¼Œå®ƒä»¬å„è‡ªæœ‰ä¸åŒçš„åŠŸèƒ½å’Œç”¨é€”ï¼š\nwgetï¼š\nåŠŸèƒ½ï¼šwgetæ˜¯ä¸€ä¸ªå‘½ä»¤è¡Œä¸‹è½½å·¥å…·ï¼Œç”¨äºä»äº’è”ç½‘ä¸Šä¸‹è½½æ–‡ä»¶ã€‚å®ƒæ”¯æŒHTTPã€HTTPSå’ŒFTPåè®®ï¼Œèƒ½å¤Ÿä¸‹è½½ç½‘é¡µã€è½¯ä»¶åŒ…ã€æ–‡æ¡£ç­‰å„ç§ç±»å‹çš„æ–‡ä»¶ã€‚ ç‰¹ç‚¹ï¼šwgetæä¾›äº†ä¸°å¯Œçš„é€‰é¡¹å’Œå‚æ•°ï¼Œå¦‚æ–­ç‚¹ç»­ä¼ ã€é™é€Ÿä¸‹è½½ã€åå°ä¸‹è½½ç­‰ï¼Œä½¿å¾—ä¸‹è½½è¿‡ç¨‹æ›´åŠ çµæ´»å’Œå¯æ§ã€‚ ç”¨é€”ï¼šwgetå¹¿æ³›ç”¨äºä¸‹è½½æ–‡ä»¶ã€é•œåƒç½‘ç«™ç­‰åœºæ™¯ï¼Œæ˜¯Linuxç”¨æˆ·ä¸å¯æˆ–ç¼ºçš„å·¥å…·ä¹‹ä¸€ã€‚\nyumï¼š\nåŠŸèƒ½ï¼šyumæ˜¯ä¸€ä¸ªåŸºäºRPMåŒ…ç®¡ç†çš„è½¯ä»¶åŒ…ç®¡ç†å™¨ï¼Œä¸»è¦ç”¨äºRed Hatç³»åˆ—çš„Linuxç³»ç»Ÿä¸­ï¼ˆå¦‚CentOSã€Fedoraç­‰ï¼‰ã€‚å®ƒèƒ½å¤Ÿè‡ªåŠ¨ä»æŒ‡å®šçš„è½¯ä»¶ä»“åº“ä¸­ä¸‹è½½ã€å®‰è£…ã€æ›´æ–°å’Œåˆ é™¤è½¯ä»¶åŒ…ï¼Œå¹¶è‡ªåŠ¨å¤„ç†è½¯ä»¶åŒ…ä¹‹é—´çš„ä¾èµ–å…³ç³»ã€‚ ç‰¹ç‚¹ï¼šyumç®€åŒ–äº†è½¯ä»¶åŒ…ç®¡ç†çš„è¿‡ç¨‹ï¼Œç”¨æˆ·æ— éœ€æ‰‹åŠ¨ä¸‹è½½å’Œå®‰è£…æ¯ä¸ªä¾èµ–çš„è½¯ä»¶åŒ…ï¼Œåªéœ€ä¸€æ¡å‘½ä»¤å³å¯å®Œæˆå®‰è£…æˆ–æ›´æ–°æ“ä½œã€‚ ç”¨é€”ï¼šyumæ˜¯Linuxç³»ç»Ÿç®¡ç†å‘˜è¿›è¡Œç³»ç»Ÿç»´æŠ¤å’Œè½¯ä»¶ç®¡ç†çš„å¾—åŠ›åŠ©æ‰‹ï¼Œæå¤§åœ°æé«˜äº†å·¥ä½œæ•ˆç‡ã€‚\nç»¼ä¸Šæ‰€è¿°ï¼Œwgetå’Œyumåœ¨Linuxç³»ç»Ÿä¸­å„è‡ªæ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚wgetä¸“æ³¨äºæ–‡ä»¶ä¸‹è½½ï¼Œè€Œyumåˆ™ä¾§é‡äºè½¯ä»¶åŒ…çš„ç®¡ç†ã€‚ä¸¤è€…ç›¸äº’é…åˆï¼Œä½¿å¾—Linuxç³»ç»Ÿçš„æ–‡ä»¶å’Œè½¯ä»¶ç®¡ç†å˜å¾—æ›´åŠ é«˜æ•ˆå’Œä¾¿æ·ã€‚\n1.2éƒ¨ç½²MySQLï¼Œå¼•å…¥docker é¦–å…ˆï¼Œæˆ‘ä»¬åˆ©ç”¨Dockeræ¥å®‰è£…ä¸€ä¸ªMySQLè½¯ä»¶ï¼Œå¤§å®¶å¯ä»¥å¯¹æ¯”ä¸€ä¸‹ä¹‹å‰ä¼ ç»Ÿçš„å®‰è£…æ–¹å¼ï¼Œçœ‹çœ‹å“ªä¸ªæ•ˆç‡æ›´é«˜ä¸€äº›ã€‚\nå¦‚æœæ˜¯åˆ©ç”¨ä¼ ç»Ÿæ–¹å¼éƒ¨ç½²MySQLï¼Œå¤§æ¦‚çš„æ­¥éª¤æœ‰ï¼š\næœç´¢å¹¶ä¸‹è½½MySQLå®‰è£…åŒ… ä¸Šä¼ è‡³Linuxç¯å¢ƒ ç¼–è¯‘å’Œé…ç½®ç¯å¢ƒ å®‰è£… è€Œä½¿ç”¨Dockerå®‰è£…ï¼Œä»…ä»…éœ€è¦ä¸€æ­¥å³å¯ï¼Œåœ¨å‘½ä»¤è¡Œè¾“å…¥ä¸‹é¢çš„å‘½ä»¤ï¼ˆå»ºè®®é‡‡ç”¨CVå¤§æ³•ï¼‰ï¼š\n1 2 3 4 5 6 docker run -d \\ --name mysql \\ -p 3306:3306 \\ -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123 \\ mysql è¿è¡Œæ•ˆæœå¦‚å›¾ï¼š\nMySQLå®‰è£…å®Œæ¯•ï¼é€šè¿‡ä»»æ„å®¢æˆ·ç«¯å·¥å…·å³å¯è¿æ¥åˆ°MySQL.\nå¤§å®¶å¯ä»¥å‘ç°ï¼Œå½“æˆ‘ä»¬æ‰§è¡Œå‘½ä»¤åï¼ŒDockeråšçš„ç¬¬ä¸€ä»¶äº‹æƒ…ï¼Œæ˜¯å»è‡ªåŠ¨æœç´¢å¹¶ä¸‹è½½äº†MySQLï¼Œç„¶åä¼šè‡ªåŠ¨è¿è¡ŒMySQLï¼Œæˆ‘ä»¬å®Œå…¨ä¸ç”¨æ’æ‰‹ï¼Œæ˜¯ä¸æ˜¯éå¸¸æ–¹ä¾¿ã€‚\nè€Œä¸”ï¼Œè¿™ç§å®‰è£…æ–¹å¼ä½ å®Œå…¨ä¸ç”¨è€ƒè™‘è¿è¡Œçš„æ“ä½œç³»ç»Ÿç¯å¢ƒï¼Œå®ƒä¸ä»…ä»…åœ¨CentOSç³»ç»Ÿæ˜¯è¿™æ ·ï¼Œåœ¨Ubuntuç³»ç»Ÿã€macOSç³»ç»Ÿã€ç”šè‡³æ˜¯è£…äº†WSLçš„Windowsä¸‹ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¿™æ¡å‘½ä»¤æ¥å®‰è£…MySQLã€‚\nè¦çŸ¥é“ï¼Œä¸åŒæ“ä½œç³»ç»Ÿä¸‹å…¶å®‰è£…åŒ…ã€è¿è¡Œç¯å¢ƒæ˜¯éƒ½ä¸ç›¸åŒçš„ï¼å¦‚æœæ˜¯æ‰‹åŠ¨å®‰è£…ï¼Œå¿…é¡»æ‰‹åŠ¨è§£å†³å®‰è£…åŒ…ä¸åŒã€ç¯å¢ƒä¸åŒçš„ã€é…ç½®ä¸åŒçš„é—®é¢˜ï¼\nè€Œä½¿ç”¨Dockerï¼Œè¿™äº›å®Œå…¨ä¸ç”¨è€ƒè™‘ã€‚å°±æ˜¯å› ä¸ºDockerä¼šè‡ªåŠ¨æœç´¢å¹¶ä¸‹è½½MySQLã€‚æ³¨æ„ï¼šè¿™é‡Œä¸‹è½½çš„ä¸æ˜¯å®‰è£…åŒ…ï¼Œè€Œæ˜¯é•œåƒã€‚é•œåƒä¸­ä¸ä»…åŒ…å«äº†MySQLæœ¬èº«ï¼Œè¿˜åŒ…å«äº†å…¶è¿è¡Œæ‰€éœ€è¦çš„ç¯å¢ƒã€é…ç½®ã€ç³»ç»Ÿçº§å‡½æ•°åº“ã€‚å› æ­¤å®ƒåœ¨è¿è¡Œæ—¶å°±æœ‰è‡ªå·±ç‹¬ç«‹çš„ç¯å¢ƒï¼Œå°±å¯ä»¥è·¨ç³»ç»Ÿè¿è¡Œï¼Œä¹Ÿä¸éœ€è¦æ‰‹åŠ¨å†æ¬¡é…ç½®ç¯å¢ƒäº†ã€‚è¿™å¥—ç‹¬ç«‹è¿è¡Œçš„éš”ç¦»ç¯å¢ƒæˆ‘ä»¬ç§°ä¸ºå®¹å™¨ã€‚\nè¯´æ˜ï¼š\né•œåƒï¼šè‹±æ–‡æ˜¯image å®¹å™¨ï¼šè‹±æ–‡æ˜¯container å› æ­¤ï¼ŒDockerå®‰è£…è½¯ä»¶çš„è¿‡ç¨‹ï¼Œå°±æ˜¯è‡ªåŠ¨æœç´¢ä¸‹è½½é•œåƒï¼Œç„¶ååˆ›å»ºå¹¶è¿è¡Œå®¹å™¨çš„è¿‡ç¨‹ã€‚\nDockerä¼šæ ¹æ®å‘½ä»¤ä¸­çš„é•œåƒåç§°è‡ªåŠ¨æœç´¢å¹¶ä¸‹è½½é•œåƒï¼Œé‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œå®ƒæ˜¯å»å“ªé‡Œæœç´¢å’Œä¸‹è½½é•œåƒçš„å‘¢ï¼Ÿè¿™äº›é•œåƒåˆæ˜¯è°åˆ¶ä½œçš„å‘¢ï¼Ÿ\nDockerå®˜æ–¹æä¾›äº†ä¸€ä¸ªä¸“é—¨ç®¡ç†ã€å­˜å‚¨é•œåƒçš„ç½‘ç«™ï¼Œå¹¶å¯¹å¤–å¼€æ”¾äº†é•œåƒä¸Šä¼ ã€ä¸‹è½½çš„æƒåˆ©ã€‚Dockerå®˜æ–¹æä¾›äº†ä¸€äº›åŸºç¡€é•œåƒï¼Œç„¶åå„å¤§è½¯ä»¶å…¬å¸åˆåœ¨åŸºç¡€é•œåƒåŸºç¡€ä¸Šï¼Œåˆ¶ä½œäº†è‡ªå®¶è½¯ä»¶çš„é•œåƒï¼Œå…¨éƒ¨éƒ½å­˜æ”¾åœ¨è¿™ä¸ªç½‘ç«™ã€‚è¿™ä¸ªç½‘ç«™å°±æˆäº†Dockeré•œåƒäº¤æµçš„ç¤¾åŒºï¼š\nhttps://hub.docker.com/\nåŸºæœ¬ä¸Šæˆ‘ä»¬å¸¸ç”¨çš„å„ç§è½¯ä»¶éƒ½èƒ½åœ¨è¿™ä¸ªç½‘ç«™ä¸Šæ‰¾åˆ°ï¼Œæˆ‘ä»¬ç”šè‡³å¯ä»¥è‡ªå·±åˆ¶ä½œé•œåƒä¸Šä¼ ä¸Šå»ã€‚\nåƒè¿™ç§æä¾›å­˜å‚¨ã€ç®¡ç†Dockeré•œåƒçš„æœåŠ¡å™¨ï¼Œè¢«ç§°ä¸ºDockerRegistryï¼Œå¯ä»¥ç¿»è¯‘ä¸ºé•œåƒä»“åº“ã€‚DockerHubç½‘ç«™æ˜¯å®˜æ–¹ä»“åº“ï¼Œé˜¿é‡Œäº‘ã€åä¸ºäº‘ä¼šæä¾›ä¸€äº›ç¬¬ä¸‰æ–¹ä»“åº“ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è‡ªå·±æ­å»ºç§æœ‰çš„é•œåƒä»“åº“ã€‚\nå®˜æ–¹ä»“åº“åœ¨å›½å¤–ï¼Œä¸‹è½½é€Ÿåº¦è¾ƒæ…¢ï¼Œä¸€èˆ¬æˆ‘ä»¬éƒ½ä¼šä½¿ç”¨ç¬¬ä¸‰æ–¹ä»“åº“æä¾›çš„é•œåƒåŠ é€ŸåŠŸèƒ½ï¼Œæé«˜ä¸‹è½½é€Ÿåº¦ã€‚è€Œä¼ä¸šå†…éƒ¨çš„æœºå¯†é¡¹ç›®ï¼Œå¾€å¾€ä¼šé‡‡ç”¨ç§æœ‰é•œåƒä»“åº“ã€‚\næ€»ä¹‹ï¼Œé•œåƒçš„æ¥æºæœ‰ä¸¤ç§ï¼š\nåŸºäºå®˜æ–¹åŸºç¡€é•œåƒè‡ªå·±åˆ¶ä½œ ç›´æ¥å»DockerRegistryä¸‹è½½ 1.3å‘½ä»¤è§£è¯» åˆ©ç”¨Dockerå¿«é€Ÿçš„å®‰è£…äº†MySQLï¼Œéå¸¸çš„æ–¹ä¾¿ï¼Œä¸è¿‡æˆ‘ä»¬æ‰§è¡Œçš„å‘½ä»¤åˆ°åº•æ˜¯ä»€ä¹ˆæ„æ€å‘¢ï¼Ÿ\n1 2 3 4 5 6 docker run -d \\ --name mysql \\ -p 3306:3306 \\ -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123 \\ mysql è§£è¯»ï¼š\ndocker run -d ï¼šåˆ›å»ºå¹¶è¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œ-dåˆ™æ˜¯è®©å®¹å™¨ä»¥åå°è¿›ç¨‹è¿è¡Œ --name`` mysql : ç»™å®¹å™¨èµ·ä¸ªåå­—å«mysqlï¼Œä½ å¯ä»¥å«åˆ«çš„ -p 3306:3306 : è®¾ç½®ç«¯å£æ˜ å°„ã€‚ å®¹å™¨æ˜¯éš”ç¦»ç¯å¢ƒï¼Œå¤–ç•Œä¸å¯è®¿é—®ã€‚ä½†æ˜¯å¯ä»¥å°†å®¿ä¸»æœºç«¯å£****æ˜ å°„å®¹å™¨å†…åˆ°ç«¯å£ï¼Œå½“è®¿é—®å®¿ä¸»æœºæŒ‡å®šç«¯å£æ—¶ï¼Œå°±æ˜¯åœ¨è®¿é—®å®¹å™¨å†…çš„ç«¯å£äº†ã€‚ å®¹å™¨å†…ç«¯å£å¾€å¾€æ˜¯ç”±å®¹å™¨å†…çš„è¿›ç¨‹å†³å®šï¼Œä¾‹å¦‚MySQLè¿›ç¨‹é»˜è®¤ç«¯å£æ˜¯3306ï¼Œå› æ­¤å®¹å™¨å†…ç«¯å£ä¸€å®šæ˜¯3306ï¼›è€Œå®¿ä¸»æœºç«¯å£åˆ™å¯ä»¥ä»»æ„æŒ‡å®šï¼Œä¸€èˆ¬ä¸å®¹å™¨å†…ä¿æŒä¸€è‡´ã€‚ æ ¼å¼ï¼š -p å®¿ä¸»æœºç«¯å£:å®¹å™¨å†…ç«¯å£ï¼Œç¤ºä¾‹ä¸­å°±æ˜¯å°†å®¿ä¸»æœºçš„3306æ˜ å°„åˆ°å®¹å™¨å†…çš„3306ç«¯å£ -``e`` TZ=Asia/Shanghai : é…ç½®å®¹å™¨å†…è¿›ç¨‹è¿è¡Œæ—¶çš„ä¸€äº›å‚æ•° æ ¼å¼ï¼š-e KEY=VALUEï¼ŒKEYå’ŒVALUEéƒ½ç”±å®¹å™¨å†…è¿›ç¨‹å†³å®š æ¡ˆä¾‹ä¸­ï¼ŒTZ``=Asia/Shanghaiæ˜¯è®¾ç½®æ—¶åŒºï¼›MYSQL_ROOT_PASSWORD=123æ˜¯è®¾ç½®MySQLé»˜è®¤å¯†ç  mysql : è®¾ç½®é•œåƒåç§°ï¼ŒDockerä¼šæ ¹æ®è¿™ä¸ªåå­—æœç´¢å¹¶ä¸‹è½½é•œåƒ æ ¼å¼ï¼šREPOSITORY:TAGï¼Œä¾‹å¦‚mysql:8.0ï¼Œå…¶ä¸­REPOSITORYå¯ä»¥ç†è§£ä¸ºé•œåƒåï¼ŒTAGæ˜¯ç‰ˆæœ¬å· åœ¨æœªæŒ‡å®šTAGçš„æƒ…å†µä¸‹ï¼Œé»˜è®¤æ˜¯æœ€æ–°ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯mysql:latest é•œåƒçš„åç§°ä¸æ˜¯éšæ„çš„ï¼Œè€Œæ˜¯è¦åˆ°DockerRegistryä¸­å¯»æ‰¾ï¼Œé•œåƒè¿è¡Œæ—¶çš„é…ç½®ä¹Ÿä¸æ˜¯éšæ„çš„ï¼Œè¦å‚è€ƒé•œåƒçš„å¸®åŠ©æ–‡æ¡£ï¼Œè¿™äº›åœ¨DockerHubç½‘ç«™æˆ–è€…è½¯ä»¶çš„å®˜æ–¹ç½‘ç«™ä¸­éƒ½èƒ½æ‰¾åˆ°ã€‚\nå¦‚æœæˆ‘ä»¬è¦å®‰è£…å…¶å®ƒè½¯ä»¶ï¼Œä¹Ÿå¯ä»¥åˆ°DockerRegistryä¸­å¯»æ‰¾å¯¹åº”çš„é•œåƒåç§°å’Œç‰ˆæœ¬ï¼Œé˜…è¯»ç›¸å…³é…ç½®å³å¯ã€‚\n2.dockeråŸºç¡€ æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸€èµ·æ¥å­¦ä¹ Dockerä½¿ç”¨çš„ä¸€äº›åŸºç¡€çŸ¥è¯†ï¼Œä¸ºå°†æ¥éƒ¨ç½²é¡¹ç›®æ‰“ä¸‹åŸºç¡€ã€‚å…·ä½“ç”¨æ³•å¯ä»¥å‚è€ƒDockerå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/\n2.1å¸¸è§å‘½ä»¤ é¦–å…ˆæˆ‘ä»¬æ¥å­¦ä¹ Dockerä¸­çš„å¸¸è§å‘½ä»¤ï¼Œå¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/engine/reference/commandline/cli/\n2.1.1.å‘½ä»¤ä»‹ç» å…¶ä¸­ï¼Œæ¯”è¾ƒå¸¸è§çš„å‘½ä»¤æœ‰ï¼š\nå‘½ä»¤ è¯´æ˜ æ–‡æ¡£åœ°å€ docker pull æ‹‰å–é•œåƒ docker pull docker push æ¨é€é•œåƒåˆ°DockerRegistry docker push docker images æŸ¥çœ‹æœ¬åœ°é•œåƒ docker images docker rmi åˆ é™¤æœ¬åœ°é•œåƒ docker rmi docker run åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ï¼ˆä¸èƒ½é‡å¤åˆ›å»ºï¼‰ docker run docker stop åœæ­¢æŒ‡å®šå®¹å™¨ docker stop docker start å¯åŠ¨æŒ‡å®šå®¹å™¨ docker start docker restart é‡æ–°å¯åŠ¨å®¹å™¨ docker restart docker rm åˆ é™¤æŒ‡å®šå®¹å™¨ docs.docker.com docker ps æŸ¥çœ‹å®¹å™¨ docker ps docker logs æŸ¥çœ‹å®¹å™¨è¿è¡Œæ—¥å¿— docker logs docker exec è¿›å…¥å®¹å™¨ docker exec docker save ä¿å­˜é•œåƒåˆ°æœ¬åœ°å‹ç¼©æ–‡ä»¶ docker save docker load åŠ è½½æœ¬åœ°å‹ç¼©æ–‡ä»¶åˆ°é•œåƒ docker load docker inspect æŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ docker inspect ç”¨ä¸€å‰¯å›¾æ¥è¡¨ç¤ºè¿™äº›å‘½ä»¤çš„å…³ç³»ï¼š\nå¯¹å…¶è¿›è¡Œè§£è¯»ä¸ºï¼š\né¦–å…ˆï¼Œå¦‚æœæƒ³åˆ©ç”¨dockeréƒ¨ç½²é¡¹ç›®ï¼Œéœ€è¦å…ˆè·å–é¡¹ç›®ç›¸å…³çš„é•œåƒï¼Œå®‰è£…åˆ°æœ¬åœ°çš„é•œåƒå¦‚æœæ²¡æœ‰åˆ é™¤å¯ä»¥å¤šæ¬¡ä½¿ç”¨ã€‚åˆ©ç”¨å·²ç»å­˜åœ¨çš„é•œåƒï¼Œç”¨docker runå‘½ä»¤ï¼Œå¯ä»¥ç”Ÿæˆä¸€ä¸ªå®¹å™¨ï¼Œä»è€Œè¿è¡Œæ¯ä¸€ä¸ªç‹¬ç«‹çš„é•œåƒã€‚\né•œåƒå¯ä»¥ç”±ä¸‰ä¸ªé€”å¾„è¿›è¡Œè·å–ï¼š\nâ€‹\t1.é€šè¿‡docker pullä»é•œåƒä»“åº“ä¸­æ‹‰å–å¹¶ä¸‹è½½ä»“åº“ä¸­å·²ç»å­˜åœ¨çš„é•œåƒï¼Œåˆ©ç”¨docker pushå¯ä»¥å‘å…¶ä¸­æ¨é€ã€‚\nâ€‹\t2.é€šè¿‡docker loadå¯ä»¥å®‰è£…æœ¬åœ°å·²ç»å­˜åœ¨çš„é•œåƒåŒ…ï¼Œå°±ä¸ç”¨ä»é•œåƒä»“åº“é‡Œè¿›è¡Œä¸‹è½½äº†ï¼Œå¯ä»¥é€šè¿‡docker saveå¯¹é•œåƒè¿›è¡Œæ‰“åŒ…ã€‚\nâ€‹\t3.é€šè¿‡docker buildå¯ä»¥åˆ©ç”¨DOCKERFILEå°†æœ¬åœ°çš„æ–‡ä»¶å°è£…æˆéœ€è¦ä½¿ç”¨çš„é•œåƒã€‚\né•œåƒæ“ä½œï¼š\nâ€‹\t1.é€šè¿‡docker imageså¯ä»¥æŸ¥çœ‹æœ¬åœ°å·²ç»æœ‰çš„é•œåƒã€‚\nâ€‹\t2.é€šè¿‡docker rmiå¯ä»¥å°†é•œåƒåˆ é™¤ï¼Œå¦‚æœæ²¡æœ‰åˆ é™¤é•œåƒåˆ™å¯ä»¥é•¿æœŸä½¿ç”¨ã€‚\nå®¹å™¨æ“ä½œï¼š\nâ€‹\t1.åˆ©ç”¨docker runå‘½ä»¤å¯ä»¥åˆ›å»ºå¹¶ä¸”å¯åŠ¨å®¹å™¨ï¼Œç›¸å½“äºå·²ç»æ‰§è¡Œäº†docker startã€‚\nâ€‹\t2.åˆ©ç”¨docker startå¯ä»¥å¯åŠ¨å·²ç»å…³é—­çš„å®¹å™¨ã€‚\nâ€‹\t3.åˆ©ç”¨docker stopå¯ä»¥å…³é—­å·²ç»å¼€å¯çš„å®¹å™¨ã€‚\nâ€‹\t4.åˆ©ç”¨docker pså¯ä»¥æŸ¥çœ‹å·²ç»å¼€å¯çš„å®¹å™¨ã€‚\nâ€‹\t6.åˆ©ç”¨docker rmå¯ä»¥åˆ é™¤å·²ç»å­˜åœ¨çš„å®¹å™¨ã€‚\nâ€‹\t7.åˆ©ç”¨docker logså¯ä»¥æŸ¥çœ‹å®¹å™¨è¿è¡Œçš„æ—¥å¿—ã€‚\nâ€‹\t8.åˆ©ç”¨docker execå¯ä»¥å¯¹è¿è¡Œçš„å®¹å™¨è¿›è¡Œä¸€äº›æ“ä½œå’Œå¤„ç†ã€‚\nâ€‹\t9.åˆ©ç”¨docker inspectæŸ¥çœ‹å®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ã€‚\nè¡¥å……ï¼š\né»˜è®¤æƒ…å†µä¸‹ï¼Œæ¯æ¬¡é‡å¯è™šæ‹Ÿæœºæˆ‘ä»¬éƒ½éœ€è¦æ‰‹åŠ¨å¯åŠ¨Dockerå’ŒDockerä¸­çš„å®¹å™¨ã€‚é€šè¿‡å‘½ä»¤å¯ä»¥å®ç°å¼€æœºè‡ªå¯ï¼š\n1 2 3 4 5 # Dockerå¼€æœºè‡ªå¯ systemctl enable docker # Dockerå®¹å™¨å¼€æœºè‡ªå¯ docker update --restart=always [å®¹å™¨å/å®¹å™¨id] 2.1.2.æ¼”ç¤º æ•™å­¦ç¯èŠ‚è¯´æ˜ï¼šæˆ‘ä»¬ä»¥Nginxä¸ºä¾‹ç»™å¤§å®¶æ¼”ç¤ºä¸Šè¿°å‘½ä»¤ã€‚\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 # ç¬¬1æ­¥ï¼Œå»DockerHubæŸ¥çœ‹nginxé•œåƒä»“åº“åŠç›¸å…³ä¿¡æ¯ # ç¬¬2æ­¥ï¼Œæ‹‰å–Nginxé•œåƒ docker pull nginx # ç¬¬3æ­¥ï¼ŒæŸ¥çœ‹é•œåƒ docker images # ç»“æœå¦‚ä¸‹ï¼š REPOSITORY TAG IMAGE ID CREATED SIZE nginx latest 605c77e624dd 16 months ago 141MB mysql latest 3218b38490ce 17 months ago 516MB # ç¬¬4æ­¥ï¼Œåˆ›å»ºå¹¶å…è®¸Nginxå®¹å™¨ docker run -d --name nginx -p 80:80 nginx # ç¬¬5æ­¥ï¼ŒæŸ¥çœ‹è¿è¡Œä¸­å®¹å™¨ docker ps # ä¹Ÿå¯ä»¥åŠ æ ¼å¼åŒ–æ–¹å¼è®¿é—®ï¼Œæ ¼å¼ä¼šæ›´åŠ æ¸…çˆ½ docker ps --format \u0026#34;table {{.ID}}\\t{{.Image}}\\t{{.Ports}}\\t{{.Status}}\\t{{.Names}}\u0026#34; # ç¬¬6æ­¥ï¼Œè®¿é—®ç½‘é¡µï¼Œåœ°å€ï¼šhttp://è™šæ‹Ÿæœºåœ°å€ # ç¬¬7æ­¥ï¼Œåœæ­¢å®¹å™¨ docker stop nginx # ç¬¬8æ­¥ï¼ŒæŸ¥çœ‹æ‰€æœ‰å®¹å™¨ docker ps -a --format \u0026#34;table {{.ID}}\\t{{.Image}}\\t{{.Ports}}\\t{{.Status}}\\t{{.Names}}\u0026#34; # ç¬¬9æ­¥ï¼Œå†æ¬¡å¯åŠ¨nginxå®¹å™¨ docker start nginx # ç¬¬10æ­¥ï¼Œå†æ¬¡æŸ¥çœ‹å®¹å™¨ docker ps --format \u0026#34;table {{.ID}}\\t{{.Image}}\\t{{.Ports}}\\t{{.Status}}\\t{{.Names}}\u0026#34; # ç¬¬11æ­¥ï¼ŒæŸ¥çœ‹å®¹å™¨è¯¦ç»†ä¿¡æ¯ docker inspect nginx # ç¬¬12æ­¥ï¼Œè¿›å…¥å®¹å™¨,æŸ¥çœ‹å®¹å™¨å†…ç›®å½• docker exec -it nginx bash # æˆ–è€…ï¼Œå¯ä»¥è¿›å…¥MySQL docker exec -it mysql mysql -uroot -p # ç¬¬13æ­¥ï¼Œåˆ é™¤å®¹å™¨ docker rm nginx # å‘ç°æ— æ³•åˆ é™¤ï¼Œå› ä¸ºå®¹å™¨è¿è¡Œä¸­ï¼Œå¼ºåˆ¶åˆ é™¤å®¹å™¨ docker rm -f nginx 2.1.3.å‘½ä»¤åˆ«å ç»™å¸¸ç”¨Dockerå‘½ä»¤èµ·åˆ«åï¼Œæ–¹ä¾¿æˆ‘ä»¬è®¿é—®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # ä¿®æ”¹/root/.bashrcæ–‡ä»¶ vi /root/.bashrc å†…å®¹å¦‚ä¸‹ï¼š # .bashrc # User specific aliases and functions alias rm=\u0026#39;rm -i\u0026#39; alias cp=\u0026#39;cp -i\u0026#39; alias mv=\u0026#39;mv -i\u0026#39; alias dps=\u0026#39;docker ps --format \u0026#34;table {{.ID}}\\t{{.Image}}\\t{{.Ports}}\\t{{.Status}}\\t{{.Names}}\u0026#34;\u0026#39; alias dis=\u0026#39;docker images\u0026#39; # Source global definitions if [ -f /etc/bashrc ]; then . /etc/bashrc fi ç„¶åï¼Œæ‰§è¡Œå‘½ä»¤ä½¿åˆ«åç”Ÿæ•ˆ\n1 source /root/.bashrc æ¥ä¸‹æ¥ï¼Œè¯•è¯•çœ‹æ–°çš„å‘½ä»¤å§ã€‚\n2.2.æ•°æ®å· å®¹å™¨æ˜¯éš”ç¦»ç¯å¢ƒï¼Œå®¹å™¨å†…ç¨‹åºçš„æ–‡ä»¶ã€é…ç½®ã€è¿è¡Œæ—¶äº§ç”Ÿçš„å®¹å™¨éƒ½åœ¨å®¹å™¨å†…éƒ¨ï¼Œæˆ‘ä»¬è¦è¯»å†™å®¹å™¨å†…çš„æ–‡ä»¶éå¸¸ä¸æ–¹ä¾¿ã€‚å¤§å®¶æ€è€ƒå‡ ä¸ªé—®é¢˜ï¼š\nå¦‚æœè¦å‡çº§MySQLç‰ˆæœ¬ï¼Œéœ€è¦é”€æ¯æ—§å®¹å™¨ï¼Œé‚£ä¹ˆæ•°æ®å²‚ä¸æ˜¯è·Ÿç€è¢«é”€æ¯äº†ï¼Ÿ MySQLã€Nginxå®¹å™¨è¿è¡Œåï¼Œå¦‚æœæˆ‘è¦ä¿®æ”¹å…¶ä¸­çš„æŸäº›é…ç½®è¯¥æ€ä¹ˆåŠï¼Ÿ æˆ‘æƒ³è¦è®©Nginxä»£ç†æˆ‘çš„é™æ€èµ„æºæ€ä¹ˆåŠï¼Ÿ å› æ­¤ï¼Œå®¹å™¨æä¾›ç¨‹åºçš„è¿è¡Œç¯å¢ƒï¼Œä½†æ˜¯ç¨‹åºè¿è¡Œäº§ç”Ÿçš„æ•°æ®ã€ç¨‹åºè¿è¡Œä¾èµ–çš„é…ç½®éƒ½åº”è¯¥ä¸å®¹å™¨è§£è€¦ã€‚\n2.2.1.ä»€ä¹ˆæ˜¯æ•°æ®å· æ•°æ®å·ï¼ˆvolumeï¼‰æ˜¯ä¸€ä¸ªè™šæ‹Ÿç›®å½•ï¼Œæ˜¯å®¹å™¨å†…ç›®å½•ä¸å®¿ä¸»æœº****ç›®å½•ä¹‹é—´æ˜ å°„çš„æ¡¥æ¢ã€‚\nä»¥Nginxä¸ºä¾‹ï¼Œæˆ‘ä»¬çŸ¥é“Nginxä¸­æœ‰ä¸¤ä¸ªå…³é”®çš„ç›®å½•ï¼š\nhtmlï¼šæ”¾ç½®ä¸€äº›é™æ€èµ„æº confï¼šæ”¾ç½®é…ç½®æ–‡ä»¶ å¦‚æœæˆ‘ä»¬è¦è®©Nginxä»£ç†æˆ‘ä»¬çš„é™æ€èµ„æºï¼Œæœ€å¥½æ˜¯æ”¾åˆ°htmlç›®å½•ï¼›å¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹Nginxçš„é…ç½®ï¼Œæœ€å¥½æ˜¯æ‰¾åˆ°confä¸‹çš„nginx.confæ–‡ä»¶ã€‚\nä½†é—æ†¾çš„æ˜¯ï¼Œå®¹å™¨è¿è¡Œçš„Nginxæ‰€æœ‰çš„æ–‡ä»¶éƒ½åœ¨å®¹å™¨å†…éƒ¨ã€‚æ‰€ä»¥æˆ‘ä»¬å¿…é¡»åˆ©ç”¨æ•°æ®å·å°†ä¸¤ä¸ªç›®å½•ä¸å®¿ä¸»æœºç›®å½•å…³è”ï¼Œæ–¹ä¾¿æˆ‘ä»¬æ“ä½œã€‚å¦‚å›¾ï¼š\nåœ¨ä¸Šå›¾ä¸­ï¼š\næˆ‘ä»¬åˆ›å»ºäº†ä¸¤ä¸ªæ•°æ®å·ï¼šconfã€html Nginxå®¹å™¨å†…éƒ¨çš„confç›®å½•å’Œhtmlç›®å½•åˆ†åˆ«ä¸ä¸¤ä¸ªæ•°æ®å·å…³è”ã€‚ è€Œæ•°æ®å·confå’Œhtmlåˆ†åˆ«æŒ‡å‘äº†å®¿ä¸»æœºçš„/var/lib/docker/volumes/conf/_dataç›®å½•å’Œ/var/lib/docker/volumes/html/_dataç›®å½• è¿™æ ·ä»¥æ¥ï¼Œå®¹å™¨å†…çš„confå’Œhtmlç›®å½•å°± ä¸å®¿ä¸»æœºçš„confå’Œhtmlç›®å½•å…³è”èµ·æ¥ï¼Œæˆ‘ä»¬ç§°ä¸ºæŒ‚è½½ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬æ“ä½œå®¿ä¸»æœºçš„/var/lib/docker/volumes/html/_dataå°±æ˜¯åœ¨æ“ä½œå®¹å™¨å†…çš„/usr/share/nginx/html/_dataç›®å½•ã€‚åªè¦æˆ‘ä»¬å°†é™æ€èµ„æºæ”¾å…¥å®¿ä¸»æœºå¯¹åº”ç›®å½•ï¼Œå°±å¯ä»¥è¢«Nginxä»£ç†äº†ã€‚\nå°æç¤ºï¼š\n/var/lib/docker/volumesè¿™ä¸ªç›®å½•å°±æ˜¯é»˜è®¤çš„å­˜æ”¾æ‰€æœ‰å®¹å™¨æ•°æ®å·çš„ç›®å½•ï¼Œå…¶ä¸‹å†æ ¹æ®æ•°æ®å·åç§°åˆ›å»ºæ–°ç›®å½•ï¼Œæ ¼å¼ä¸º/æ•°æ®å·å/_dataã€‚\nä¸ºä»€ä¹ˆä¸è®©å®¹å™¨ç›®å½•ç›´æ¥æŒ‡å‘å®¿ä¸»æœºç›®å½•å‘¢ï¼Ÿ\nå› ä¸ºç›´æ¥æŒ‡å‘å®¿ä¸»æœºç›®å½•å°±ä¸å®¿ä¸»æœºå¼ºè€¦åˆäº†ï¼Œå¦‚æœåˆ‡æ¢äº†ç¯å¢ƒï¼Œå®¿ä¸»æœºç›®å½•å°±å¯èƒ½å‘ç”Ÿæ”¹å˜äº†ã€‚ç”±äºå®¹å™¨ä¸€æ—¦åˆ›å»ºï¼Œç›®å½•æŒ‚è½½å°±æ— æ³•ä¿®æ”¹ï¼Œè¿™æ ·å®¹å™¨å°±æ— æ³•æ­£å¸¸å·¥ä½œäº†ã€‚ ä½†æ˜¯å®¹å™¨æŒ‡å‘æ•°æ®å·ï¼Œä¸€ä¸ªé€»è¾‘åç§°ï¼Œè€Œæ•°æ®å·å†æŒ‡å‘å®¿ä¸»æœºç›®å½•ï¼Œå°±ä¸å­˜åœ¨å¼ºè€¦åˆã€‚å¦‚æœå®¿ä¸»æœºç›®å½•å‘ç”Ÿæ”¹å˜ï¼Œåªè¦æ”¹å˜æ•°æ®å·ä¸å®¿ä¸»æœºç›®å½•ä¹‹é—´çš„æ˜ å°„å…³ç³»å³å¯ã€‚ ä¸è¿‡ï¼Œæˆ‘ä»¬é€šè¿‡ç”±äºæ•°æ®å·ç›®å½•æ¯”è¾ƒæ·±ï¼Œä¸å¥½å¯»æ‰¾ï¼Œé€šå¸¸æˆ‘ä»¬ä¹Ÿå…è®¸è®©å®¹å™¨ç›´æ¥ä¸å®¿ä¸»æœºç›®å½•æŒ‚è½½è€Œä¸ä½¿ç”¨æ•°æ®å·ï¼Œå…·ä½“å‚è€ƒ2.2.3å°èŠ‚ã€‚\n2.2.2.æ•°æ®å·å‘½ä»¤ æ•°æ®å·çš„ç›¸å…³å‘½ä»¤æœ‰ï¼š\nå‘½ä»¤ è¯´æ˜ æ–‡æ¡£åœ°å€ docker volume create åˆ›å»ºæ•°æ®å· docker volume create docker volume ls æŸ¥çœ‹æ‰€æœ‰æ•°æ®å· docs.docker.com docker volume rm åˆ é™¤æŒ‡å®šæ•°æ®å· docs.docker.com docker volume inspect æŸ¥çœ‹æŸä¸ªæ•°æ®å·çš„è¯¦æƒ… docs.docker.com docker volume prune æ¸…é™¤æ•°æ®å· docker volume prune æ³¨æ„ï¼šå®¹å™¨ä¸æ•°æ®å·çš„æŒ‚è½½è¦åœ¨åˆ›å»ºå®¹å™¨æ—¶é…ç½®ï¼Œå¯¹äºåˆ›å»ºå¥½çš„å®¹å™¨ï¼Œæ˜¯ä¸èƒ½è®¾ç½®æ•°æ®å·çš„ã€‚è€Œä¸”åˆ›å»ºå®¹å™¨çš„è¿‡ç¨‹ä¸­ï¼Œæ•°æ®å·ä¼šè‡ªåŠ¨åˆ›å»ºã€‚\næ•™å­¦æ¼”ç¤ºç¯èŠ‚ï¼šæ¼”ç¤ºä¸€ä¸‹nginxçš„htmlç›®å½•æŒ‚è½½\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 # 1.é¦–å…ˆåˆ›å»ºå®¹å™¨å¹¶æŒ‡å®šæ•°æ®å·ï¼Œæ³¨æ„é€šè¿‡ -v å‚æ•°æ¥æŒ‡å®šæ•°æ®å· docker run -d --name nginx -p 80:80 -v html:/usr/share/nginx/html nginx # 2.ç„¶åæŸ¥çœ‹æ•°æ®å· docker volume ls # ç»“æœ DRIVER VOLUME NAME local 29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459f local html # 3.æŸ¥çœ‹æ•°æ®å·è¯¦æƒ… docker volume inspect html # ç»“æœ [ { \u0026#34;CreatedAt\u0026#34;: \u0026#34;2024-05-17T19:57:08+08:00\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;local\u0026#34;, \u0026#34;Labels\u0026#34;: null, \u0026#34;Mountpoint\u0026#34;: \u0026#34;/var/lib/docker/volumes/html/_data\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;html\u0026#34;, \u0026#34;Options\u0026#34;: null, \u0026#34;Scope\u0026#34;: \u0026#34;local\u0026#34; } ] # 4.æŸ¥çœ‹/var/lib/docker/volumes/html/_dataç›®å½• ll /var/lib/docker/volumes/html/_data # å¯ä»¥çœ‹åˆ°ä¸nginxçš„htmlç›®å½•å†…å®¹ä¸€æ ·ï¼Œç»“æœå¦‚ä¸‹ï¼š æ€»ç”¨é‡ 8 -rw-r--r--. 1 root root 497 12æœˆ 28 2021 50x.html -rw-r--r--. 1 root root 615 12æœˆ 28 2021 index.html # 5.è¿›å…¥è¯¥ç›®å½•ï¼Œå¹¶éšæ„ä¿®æ”¹index.htmlå†…å®¹ cd /var/lib/docker/volumes/html/_data vi index.html # 6.æ‰“å¼€é¡µé¢ï¼ŒæŸ¥çœ‹æ•ˆæœ # 7.è¿›å…¥å®¹å™¨å†…éƒ¨ï¼ŒæŸ¥çœ‹/usr/share/nginx/htmlç›®å½•å†…çš„æ–‡ä»¶æ˜¯å¦å˜åŒ– docker exec -it nginx bash æ•™å­¦æ¼”ç¤ºç¯èŠ‚ï¼šæ¼”ç¤ºä¸€ä¸‹MySQLçš„åŒ¿åæ•°æ®å·\n1 2 3 # 1.æŸ¥çœ‹MySQLå®¹å™¨è¯¦ç»†ä¿¡æ¯ docker inspect mysql # å…³æ³¨å…¶ä¸­.Config.Volumeséƒ¨åˆ†å’Œ.Mountséƒ¨åˆ† æˆ‘ä»¬å…³æ³¨ä¸¤éƒ¨åˆ†å†…å®¹ï¼Œç¬¬ä¸€æ˜¯.Config.Volumeséƒ¨åˆ†ï¼š\n1 2 3 4 5 6 7 8 9 { \u0026#34;Config\u0026#34;: { // ... ç•¥ \u0026#34;Volumes\u0026#34;: { \u0026#34;/var/lib/mysql\u0026#34;: {} } // ... ç•¥ } } å¯ä»¥å‘ç°è¿™ä¸ªå®¹å™¨å£°æ˜äº†ä¸€ä¸ªæœ¬åœ°ç›®å½•ï¼Œéœ€è¦æŒ‚è½½æ•°æ®å·ï¼Œä½†æ˜¯æ•°æ®å·æœªå®šä¹‰ã€‚è¿™å°±æ˜¯åŒ¿åå·ã€‚\nç„¶åï¼Œæˆ‘ä»¬å†çœ‹ç»“æœä¸­çš„.Mountséƒ¨åˆ†ï¼š\n1 2 3 4 5 6 7 8 9 10 11 { \u0026#34;Mounts\u0026#34;: [ { \u0026#34;Type\u0026#34;: \u0026#34;volume\u0026#34;, \u0026#34;Name\u0026#34;: \u0026#34;29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459f\u0026#34;, \u0026#34;Source\u0026#34;: \u0026#34;/var/lib/docker/volumes/29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459f/_data\u0026#34;, \u0026#34;Destination\u0026#34;: \u0026#34;/var/lib/mysql\u0026#34;, \u0026#34;Driver\u0026#34;: \u0026#34;local\u0026#34;, } ] } å¯ä»¥å‘ç°ï¼Œå…¶ä¸­æœ‰å‡ ä¸ªå…³é”®å±æ€§ï¼š\nNameï¼šæ•°æ®å·åç§°ã€‚ç”±äºå®šä¹‰å®¹å™¨æœªè®¾ç½®å®¹å™¨åï¼Œè¿™é‡Œçš„å°±æ˜¯åŒ¿åå·è‡ªåŠ¨ç”Ÿæˆçš„åå­—ï¼Œä¸€ä¸²hashå€¼ã€‚ Sourceï¼šå®¿ä¸»æœºç›®å½• Destination : å®¹å™¨å†…çš„ç›®å½• ä¸Šè¿°é…ç½®æ˜¯å°†å®¹å™¨å†…çš„/var/lib/mysqlè¿™ä¸ªç›®å½•ï¼Œä¸æ•°æ®å·29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459fæŒ‚è½½ã€‚äºæ˜¯åœ¨å®¿ä¸»æœºä¸­å°±æœ‰äº†/var/lib/docker/volumes/29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459f/_dataè¿™ä¸ªç›®å½•ã€‚è¿™å°±æ˜¯åŒ¿åæ•°æ®å·å¯¹åº”çš„ç›®å½•ï¼Œå…¶ä½¿ç”¨æ–¹å¼ä¸æ™®é€šæ•°æ®å·æ²¡æœ‰å·®åˆ«ã€‚\næ¥ä¸‹æ¥ï¼Œå¯ä»¥æŸ¥çœ‹è¯¥ç›®å½•ä¸‹çš„MySQLçš„dataæ–‡ä»¶ï¼š\n1 ls -l /var/lib/docker/volumes/29524ff09715d3688eae3f99803a2796558dbd00ca584a25a4bbc193ca82459f/_data æ³¨æ„ï¼šæ¯ä¸€ä¸ªä¸åŒçš„é•œåƒï¼Œå°†æ¥åˆ›å»ºå®¹å™¨åå†…éƒ¨æœ‰å“ªäº›ç›®å½•å¯ä»¥æŒ‚è½½ï¼Œå¯ä»¥å‚è€ƒDockerHubå¯¹åº”çš„é¡µé¢\n2.2.3.æŒ‚è½½æœ¬åœ°ç›®å½•æˆ–æ–‡ä»¶ å¯ä»¥å‘ç°ï¼Œæ•°æ®å·çš„ç›®å½•ç»“æ„è¾ƒæ·±ï¼Œå¦‚æœæˆ‘ä»¬å»æ“ä½œæ•°æ®å·ç›®å½•ä¼šä¸å¤ªæ–¹ä¾¿ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šç›´æ¥å°†å®¹å™¨ç›®å½•ä¸å®¿ä¸»æœºæŒ‡å®šç›®å½•æŒ‚è½½ã€‚æŒ‚è½½è¯­æ³•ä¸æ•°æ®å·ç±»ä¼¼ï¼š\n1 2 3 4 # æŒ‚è½½æœ¬åœ°ç›®å½• -v æœ¬åœ°ç›®å½•:å®¹å™¨å†…ç›®å½• # æŒ‚è½½æœ¬åœ°æ–‡ä»¶ -v æœ¬åœ°æ–‡ä»¶:å®¹å™¨å†…æ–‡ä»¶ æ³¨æ„ï¼šæœ¬åœ°ç›®å½•æˆ–æ–‡ä»¶å¿…é¡»ä»¥ / æˆ– ./å¼€å¤´ï¼Œå¦‚æœç›´æ¥ä»¥åå­—å¼€å¤´ï¼Œä¼šè¢«è¯†åˆ«ä¸ºæ•°æ®å·åè€Œéæœ¬åœ°ç›®å½•åã€‚\nä¾‹å¦‚ï¼š\n1 2 -v mysql:/var/lib/mysql # ä¼šè¢«è¯†åˆ«ä¸ºä¸€ä¸ªæ•°æ®å·å«mysqlï¼Œè¿è¡Œæ—¶ä¼šè‡ªåŠ¨åˆ›å»ºè¿™ä¸ªæ•°æ®å· -v ./mysql:/var/lib/mysql # ä¼šè¢«è¯†åˆ«ä¸ºå½“å‰ç›®å½•ä¸‹çš„mysqlç›®å½•ï¼Œè¿è¡Œæ—¶å¦‚æœä¸å­˜åœ¨ä¼šåˆ›å»ºç›®å½• æ•™å­¦æ¼”ç¤ºï¼Œåˆ é™¤å¹¶é‡æ–°åˆ›å»ºmysqlå®¹å™¨ï¼Œå¹¶å®Œæˆæœ¬åœ°ç›®å½•æŒ‚è½½ï¼š\næŒ‚è½½/root/mysql/dataåˆ°å®¹å™¨å†…çš„/var/lib/mysqlç›®å½• æŒ‚è½½/root/mysql/initåˆ°å®¹å™¨å†…çš„/docker-entrypoint-initdb.dç›®å½•ï¼ˆåˆå§‹åŒ–çš„SQLè„šæœ¬ç›®å½•ï¼‰ æŒ‚è½½/root/mysql/confåˆ°å®¹å™¨å†…çš„/etc/mysql/conf.dç›®å½•ï¼ˆè¿™ä¸ªæ˜¯MySQLé…ç½®æ–‡ä»¶ç›®å½•ï¼‰ åœ¨è¯¾å‰èµ„æ–™ä¸­å·²ç»å‡†å¤‡å¥½äº†mysqlçš„initç›®å½•å’Œconfç›®å½•ï¼š\nä»¥åŠå¯¹åº”çš„åˆå§‹åŒ–SQLè„šæœ¬å’Œé…ç½®æ–‡ä»¶ï¼š\nå…¶ä¸­ï¼Œhm.cnfä¸»è¦æ˜¯é…ç½®äº†MySQLçš„é»˜è®¤ç¼–ç ï¼Œæ”¹ä¸ºutf8mb4ï¼›è€Œhmall.sqlåˆ™æ˜¯åé¢æˆ‘ä»¬è¦ç”¨åˆ°çš„é»‘é©¬å•†åŸé¡¹ç›®çš„åˆå§‹åŒ–SQLè„šæœ¬ã€‚\næˆ‘ä»¬ç›´æ¥å°†æ•´ä¸ªmysqlç›®å½•ä¸Šä¼ è‡³è™šæ‹Ÿæœºçš„/rootç›®å½•ä¸‹ï¼š\næ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¼”ç¤ºæœ¬åœ°ç›®å½•æŒ‚è½½ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 # 1.åˆ é™¤åŸæ¥çš„MySQLå®¹å™¨ docker rm -f mysql # 2.è¿›å…¥rootç›®å½• cd ~ # 3.åˆ›å»ºå¹¶è¿è¡Œæ–°mysqlå®¹å™¨ï¼ŒæŒ‚è½½æœ¬åœ°ç›®å½• docker run -d \\ --name mysql \\ -p 3306:3306 \\ -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123 \\ -v ./mysql/data:/var/lib/mysql \\ -v ./mysql/conf:/etc/mysql/conf.d \\ -v ./mysql/init:/docker-entrypoint-initdb.d \\ mysql # 4.æŸ¥çœ‹rootç›®å½•ï¼Œå¯ä»¥å‘ç°~/mysql/dataç›®å½•å·²ç»è‡ªåŠ¨åˆ›å»ºå¥½äº† ls -l mysql # ç»“æœï¼š æ€»ç”¨é‡ 4 drwxr-xr-x. 2 root root 20 5æœˆ 19 15:11 conf drwxr-xr-x. 7 polkitd root 4096 5æœˆ 19 15:11 data drwxr-xr-x. 2 root root 23 5æœˆ 19 15:11 init # æŸ¥çœ‹dataç›®å½•ï¼Œä¼šå‘ç°é‡Œé¢æœ‰å¤§é‡æ•°æ®åº“æ•°æ®ï¼Œè¯´æ˜æ•°æ®åº“å®Œæˆäº†åˆå§‹åŒ– ls -l data # 5.æŸ¥çœ‹MySQLå®¹å™¨å†…æ•°æ® # 5.1.è¿›å…¥MySQL docker exec -it mysql mysql -uroot -p123 # 5.2.æŸ¥çœ‹ç¼–ç è¡¨ show variables like \u0026#34;%char%\u0026#34;; # 5.3.ç»“æœï¼Œå‘ç°ç¼–ç æ˜¯utf8mb4æ²¡æœ‰é—®é¢˜ +--------------------------+--------------------------------+ | Variable_name | Value | +--------------------------+--------------------------------+ | character_set_client | utf8mb4 | | character_set_connection | utf8mb4 | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | utf8mb4 | | character_set_server | utf8mb4 | | character_set_system | utf8mb3 | | character_sets_dir | /usr/share/mysql-8.0/charsets/ | +--------------------------+--------------------------------+ # 6.æŸ¥çœ‹æ•°æ® # 6.1.æŸ¥çœ‹æ•°æ®åº“ show databases; # ç»“æœï¼Œhmallæ˜¯é»‘é©¬å•†åŸæ•°æ®åº“ +--------------------+ | Database | +--------------------+ | hmall | | information_schema | | mysql | | performance_schema | | sys | +--------------------+ 5 rows in set (0.00 sec) # 6.2.åˆ‡æ¢åˆ°hmallæ•°æ®åº“ use hmall; # 6.3.æŸ¥çœ‹è¡¨ show tables; # ç»“æœï¼š +-----------------+ | Tables_in_hmall | +-----------------+ | address | | cart | | item | | order | | order_detail | | order_logistics | | pay_order | | user | +-----------------+ # 6.4.æŸ¥çœ‹addressè¡¨æ•°æ® +----+---------+----------+--------+----------+-------------+---------------+-----------+------------+-------+ | id | user_id | province | city | town | mobile | street | contact | is_default | notes | +----+---------+----------+--------+----------+-------------+---------------+-----------+------------+-------+ | 59 | 1 | åŒ—äº¬ | åŒ—äº¬ | æœé˜³åŒº | 13900112222 | é‡‘ç‡•é¾™åŠå…¬æ¥¼ | æä½³è¯š | 0 | NULL | | 60 | 1 | åŒ—äº¬ | åŒ—äº¬ | æœé˜³åŒº | 13700221122 | ä¿®æ­£å¤§å¦ | æä½³çº¢ | 0 | NULL | | 61 | 1 | ä¸Šæµ· | ä¸Šæµ· | æµ¦ä¸œæ–°åŒº | 13301212233 | èˆªå¤´é•‡èˆªå¤´è·¯ | æä½³æ˜Ÿ | 1 | NULL | | 63 | 1 | å¹¿ä¸œ | ä½›å±± | æ°¸æ˜¥ | 13301212233 | æ°¸æ˜¥æ­¦é¦† | ææ™“é¾™ | 0 | NULL | +----+---------+----------+--------+----------+-------------+---------------+-----------+------------+-------+ 4 rows in set (0.00 sec) 2.3.é•œåƒ å‰é¢æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨åˆ«äººå‡†å¤‡å¥½çš„é•œåƒï¼Œé‚£å¦‚æœæˆ‘è¦éƒ¨ç½²ä¸€ä¸ªJavaé¡¹ç›®ï¼ŒæŠŠå®ƒæ‰“åŒ…ä¸ºä¸€ä¸ªé•œåƒè¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ\n2.3.1.é•œåƒç»“æ„ è¦æƒ³è‡ªå·±æ„å»ºé•œåƒï¼Œå¿…é¡»å…ˆäº†è§£é•œåƒçš„ç»“æ„ã€‚\nä¹‹å‰æˆ‘ä»¬è¯´è¿‡ï¼Œé•œåƒä¹‹æ‰€ä»¥èƒ½è®©æˆ‘ä»¬å¿«é€Ÿè·¨æ“ä½œç³»ç»Ÿéƒ¨ç½²åº”ç”¨è€Œå¿½ç•¥å…¶è¿è¡Œç¯å¢ƒã€é…ç½®ï¼Œå°±æ˜¯å› ä¸ºé•œåƒä¸­åŒ…å«äº†ç¨‹åºè¿è¡Œéœ€è¦çš„ç³»ç»Ÿå‡½æ•°åº“ã€ç¯å¢ƒã€é…ç½®ã€ä¾èµ–ã€‚\nå› æ­¤ï¼Œè‡ªå®šä¹‰é•œåƒæœ¬è´¨å°±æ˜¯ä¾æ¬¡å‡†å¤‡å¥½ç¨‹åºè¿è¡Œçš„åŸºç¡€ç¯å¢ƒã€ä¾èµ–ã€åº”ç”¨æœ¬èº«ã€è¿è¡Œé…ç½®ç­‰æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰“åŒ…è€Œæˆã€‚\nä¸¾ä¸ªä¾‹å­ï¼Œæˆ‘ä»¬è¦ä»0éƒ¨ç½²ä¸€ä¸ªJavaåº”ç”¨ï¼Œå¤§æ¦‚æµç¨‹æ˜¯è¿™æ ·ï¼š\nå‡†å¤‡ä¸€ä¸ªlinuxæœåŠ¡ï¼ˆCentOSæˆ–è€…Ubuntuå‡å¯ï¼‰ å®‰è£…å¹¶é…ç½®JDK ä¸Šä¼ JaråŒ… è¿è¡ŒjaråŒ… é‚£å› æ­¤ï¼Œæˆ‘ä»¬æ‰“åŒ…é•œåƒä¹Ÿæ˜¯åˆ†æˆè¿™ä¹ˆå‡ æ­¥ï¼š\nå‡†å¤‡Linuxè¿è¡Œç¯å¢ƒï¼ˆjavaé¡¹ç›®å¹¶ä¸éœ€è¦å®Œæ•´çš„æ“ä½œç³»ç»Ÿï¼Œä»…ä»…æ˜¯åŸºç¡€è¿è¡Œç¯å¢ƒå³å¯ï¼‰ å®‰è£…å¹¶é…ç½®JDK æ‹·è´jaråŒ… é…ç½®å¯åŠ¨è„šæœ¬ ä¸Šè¿°æ­¥éª¤ä¸­çš„æ¯ä¸€æ¬¡æ“ä½œå…¶å®éƒ½æ˜¯åœ¨ç”Ÿäº§ä¸€äº›æ–‡ä»¶ï¼ˆç³»ç»Ÿè¿è¡Œç¯å¢ƒã€å‡½æ•°åº“ã€é…ç½®æœ€ç»ˆéƒ½æ˜¯ç£ç›˜æ–‡ä»¶ï¼‰ï¼Œæ‰€ä»¥é•œåƒå°±æ˜¯ä¸€å †æ–‡ä»¶çš„é›†åˆã€‚\nä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé•œåƒæ–‡ä»¶ä¸æ˜¯éšæ„å †æ”¾çš„ï¼Œè€Œæ˜¯æŒ‰ç…§æ“ä½œçš„æ­¥éª¤åˆ†å±‚å åŠ è€Œæˆï¼Œæ¯ä¸€å±‚å½¢æˆçš„æ–‡ä»¶éƒ½ä¼šå•ç‹¬æ‰“åŒ…å¹¶æ ‡è®°ä¸€ä¸ªå”¯ä¸€idï¼Œç§°ä¸ºLayerï¼ˆå±‚ï¼‰ã€‚è¿™æ ·ï¼Œå¦‚æœæˆ‘ä»¬æ„å»ºæ—¶ç”¨åˆ°çš„æŸäº›å±‚å…¶ä»–äººå·²ç»åˆ¶ä½œè¿‡ï¼Œå°±å¯ä»¥ç›´æ¥æ‹·è´ä½¿ç”¨è¿™äº›å±‚ï¼Œè€Œä¸ç”¨é‡å¤åˆ¶ä½œã€‚\nä¾‹å¦‚ï¼Œç¬¬ä¸€æ­¥ä¸­éœ€è¦çš„Linuxè¿è¡Œç¯å¢ƒï¼Œé€šç”¨æ€§å°±å¾ˆå¼ºï¼Œæ‰€ä»¥Dockerå®˜æ–¹å°±åˆ¶ä½œäº†è¿™æ ·çš„åªåŒ…å«Linuxè¿è¡Œç¯å¢ƒçš„é•œåƒã€‚æˆ‘ä»¬åœ¨åˆ¶ä½œjavaé•œåƒæ—¶ï¼Œå°±æ— éœ€é‡å¤åˆ¶ä½œï¼Œç›´æ¥ä½¿ç”¨Dockerå®˜æ–¹æä¾›çš„CentOSæˆ–Ubuntué•œåƒä½œä¸ºåŸºç¡€é•œåƒã€‚ç„¶åå†æ­å»ºå…¶å®ƒå±‚å³å¯ï¼Œè¿™æ ·é€å±‚æ­å»ºï¼Œæœ€ç»ˆæ•´ä¸ªJavaé¡¹ç›®çš„é•œåƒç»“æ„å¦‚å›¾æ‰€ç¤ºï¼š\n2.3.2.Dockerfile ç”±äºåˆ¶ä½œé•œåƒçš„è¿‡ç¨‹ä¸­ï¼Œéœ€è¦é€å±‚å¤„ç†å’Œæ‰“åŒ…ï¼Œæ¯”è¾ƒå¤æ‚ï¼Œæ‰€ä»¥Dockerå°±æä¾›äº†è‡ªåŠ¨æ‰“åŒ…é•œåƒçš„åŠŸèƒ½ã€‚æˆ‘ä»¬åªéœ€è¦å°†æ‰“åŒ…çš„è¿‡ç¨‹ï¼Œæ¯ä¸€å±‚è¦åšçš„äº‹æƒ…ç”¨å›ºå®šçš„è¯­æ³•å†™ä¸‹æ¥ï¼Œäº¤ç»™Dockerå»æ‰§è¡Œå³å¯ã€‚\nè€Œè¿™ç§è®°å½•é•œåƒç»“æ„çš„æ–‡ä»¶å°±ç§°ä¸ºDockerfileï¼Œå…¶å¯¹åº”çš„è¯­æ³•å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/engine/reference/builder/\nå…¶ä¸­çš„è¯­æ³•æ¯”è¾ƒå¤šï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æœ‰ï¼š\næŒ‡ä»¤ è¯´æ˜ ç¤ºä¾‹ FROM æŒ‡å®šåŸºç¡€é•œåƒ FROM centos:6 ENV è®¾ç½®ç¯å¢ƒå˜é‡ï¼Œå¯åœ¨åé¢æŒ‡ä»¤ä½¿ç”¨ ENV key value COPY æ‹·è´æœ¬åœ°æ–‡ä»¶åˆ°é•œåƒçš„æŒ‡å®šç›®å½• COPY ./xx.jar /tmp/app.jar RUN æ‰§è¡ŒLinuxçš„shellå‘½ä»¤ï¼Œä¸€èˆ¬æ˜¯å®‰è£…è¿‡ç¨‹çš„å‘½ä»¤ RUN yum install gcc EXPOSE æŒ‡å®šå®¹å™¨è¿è¡Œæ—¶ç›‘å¬çš„ç«¯å£ï¼Œæ˜¯ç»™é•œåƒä½¿ç”¨è€…çœ‹çš„ EXPOSE 8080 ENTRYPOINT é•œåƒä¸­åº”ç”¨çš„å¯åŠ¨å‘½ä»¤ï¼Œå®¹å™¨è¿è¡Œæ—¶è°ƒç”¨ ENTRYPOINT java -jar xx.jar ä¾‹å¦‚ï¼Œè¦åŸºäºUbuntué•œåƒæ¥æ„å»ºä¸€ä¸ªJavaåº”ç”¨ï¼Œå…¶Dockerfileå†…å®¹å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 # æŒ‡å®šåŸºç¡€é•œåƒ FROM ubuntu:16.04 # é…ç½®ç¯å¢ƒå˜é‡ï¼ŒJDKçš„å®‰è£…ç›®å½•ã€å®¹å™¨å†…æ—¶åŒº ENV JAVA_DIR=/usr/local ENV TZ=Asia/Shanghai # æ‹·è´jdkå’Œjavaé¡¹ç›®çš„åŒ… COPY ./jdk8.tar.gz $JAVA_DIR/ COPY ./docker-demo.jar /tmp/app.jar # è®¾å®šæ—¶åŒº RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \u0026amp;\u0026amp; echo $TZ \u0026gt; /etc/timezone # å®‰è£…JDK RUN cd $JAVA_DIR \\ \u0026amp;\u0026amp; tar -xf ./jdk8.tar.gz \\ \u0026amp;\u0026amp; mv ./jdk1.8.0_144 ./java8 # é…ç½®ç¯å¢ƒå˜é‡ ENV JAVA_HOME=$JAVA_DIR/java8 ENV PATH=$PATH:$JAVA_HOME/bin # æŒ‡å®šé¡¹ç›®ç›‘å¬çš„ç«¯å£ EXPOSE 8080 # å…¥å£ï¼Œjavaé¡¹ç›®çš„å¯åŠ¨å‘½ä»¤ ENTRYPOINT [\u0026#34;java\u0026#34;, \u0026#34;-jar\u0026#34;, \u0026#34;/app.jar\u0026#34;] åŒå­¦ä»¬æ€è€ƒä¸€ä¸‹ï¼šä»¥åæˆ‘ä»¬ä¼šæœ‰å¾ˆå¤šå¾ˆå¤šjavaé¡¹ç›®éœ€è¦æ‰“åŒ…ä¸ºé•œåƒï¼Œä»–ä»¬éƒ½éœ€è¦Linuxç³»ç»Ÿç¯å¢ƒã€JDKç¯å¢ƒè¿™ä¸¤å±‚ï¼Œåªæœ‰ä¸Šé¢çš„3å±‚ä¸åŒï¼ˆå› ä¸ºjaråŒ…ä¸åŒï¼‰ã€‚å¦‚æœæ¯æ¬¡åˆ¶ä½œjavaé•œåƒéƒ½é‡å¤åˆ¶ä½œå‰ä¸¤å±‚é•œåƒï¼Œæ˜¯ä¸æ˜¯å¾ˆéº»çƒ¦ã€‚\næ‰€ä»¥ï¼Œå°±æœ‰äººæä¾›äº†åŸºç¡€çš„ç³»ç»ŸåŠ JDKç¯å¢ƒï¼Œæˆ‘ä»¬åœ¨æ­¤åŸºç¡€ä¸Šåˆ¶ä½œjavaé•œåƒï¼Œå°±å¯ä»¥çœå»JDKçš„é…ç½®äº†ï¼š\n1 2 3 4 5 6 7 8 9 # åŸºç¡€é•œåƒ FROM openjdk:11.0-jre-buster # è®¾å®šæ—¶åŒº ENV TZ=Asia/Shanghai RUN ln -snf /usr/share/zoneinfo/$TZ /etc/localtime \u0026amp;\u0026amp; echo $TZ \u0026gt; /etc/timezone # æ‹·è´jaråŒ… COPY docker-demo.jar /app.jar # å…¥å£ ENTRYPOINT [\u0026#34;java\u0026#34;, \u0026#34;-jar\u0026#34;, \u0026#34;/app.jar\u0026#34;] æ˜¯ä¸æ˜¯ç®€å•å¤šäº†ã€‚\n2.3.3.æ„å»ºé•œåƒ å½“Dockerfileæ–‡ä»¶å†™å¥½ä»¥åï¼Œå°±å¯ä»¥åˆ©ç”¨å‘½ä»¤æ¥æ„å»ºé•œåƒäº†ã€‚\nåœ¨è¯¾å‰èµ„æ–™ä¸­ï¼Œæˆ‘ä»¬å‡†å¤‡å¥½äº†ä¸€ä¸ªdemoé¡¹ç›®åŠå¯¹åº”çš„Dockerfileï¼š\né¦–å…ˆï¼Œæˆ‘ä»¬å°†è¯¾å‰èµ„æ–™æä¾›çš„docker-demo.jaråŒ…ä»¥åŠDockerfileæ‹·è´åˆ°è™šæ‹Ÿæœºçš„/root/demoç›®å½•ï¼š\nç„¶åï¼Œæ‰§è¡Œå‘½ä»¤ï¼Œæ„å»ºé•œåƒï¼š\n1 2 3 4 # è¿›å…¥é•œåƒç›®å½• cd /root/demo # å¼€å§‹æ„å»º docker build -t docker-demo:1.0 . å‘½ä»¤è¯´æ˜ï¼š\ndocker build : å°±æ˜¯æ„å»ºä¸€ä¸ªdockeré•œåƒ -t docker-demo:1.0 ï¼š-tå‚æ•°æ˜¯æŒ‡å®šé•œåƒçš„åç§°ï¼ˆrepositoryå’Œtagï¼‰ . : æœ€åçš„ç‚¹æ˜¯æŒ‡æ„å»ºæ—¶Dockerfileæ‰€åœ¨è·¯å¾„ï¼Œç”±äºæˆ‘ä»¬è¿›å…¥äº†demoç›®å½•ï¼Œæ‰€ä»¥æŒ‡å®šçš„æ˜¯.ä»£è¡¨å½“å‰ç›®å½•ï¼Œä¹Ÿå¯ä»¥ç›´æ¥æŒ‡å®šDockerfileç›®å½•ï¼š 1 2 # ç›´æ¥æŒ‡å®šDockerfileç›®å½• docker build -t docker-demo:1.0 /root/demo ç»“æœï¼š\næŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼š\n1 2 3 4 5 6 7 # æŸ¥çœ‹é•œåƒåˆ—è¡¨ï¼š docker images # ç»“æœ REPOSITORY TAG IMAGE ID CREATED SIZE docker-demo 1.0 d6ab0b9e64b9 27 minutes ago 327MB nginx latest 605c77e624dd 16 months ago 141MB mysql latest 3218b38490ce 17 months ago 516MB ç„¶åå°è¯•è¿è¡Œè¯¥é•œåƒï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 # 1.åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ docker run -d --name dd -p 8080:8080 docker-demo:1.0 # 2.æŸ¥çœ‹å®¹å™¨ dps # ç»“æœ CONTAINER ID IMAGE PORTS STATUS NAMES 78a000447b49 docker-demo:1.0 0.0.0.0:8080-\u0026gt;8080/tcp, :::8090-\u0026gt;8090/tcp Up 2 seconds dd f63cfead8502 mysql 0.0.0.0:3306-\u0026gt;3306/tcp, :::3306-\u0026gt;3306/tcp, 33060/tcp Up 2 hours mysql # 3.è®¿é—® curl localhost:8080/hello/count # ç»“æœï¼š \u0026lt;h5\u0026gt;æ¬¢è¿è®¿é—®é»‘é©¬å•†åŸ, è¿™æ˜¯æ‚¨ç¬¬1æ¬¡è®¿é—®\u0026lt;h5\u0026gt; 2.4.ç½‘ç»œ ä¸ŠèŠ‚è¯¾æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªJavaé¡¹ç›®çš„å®¹å™¨ï¼Œè€ŒJavaé¡¹ç›®å¾€å¾€éœ€è¦è®¿é—®å…¶å®ƒå„ç§ä¸­é—´ä»¶ï¼Œä¾‹å¦‚MySQLã€Redisç­‰ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬çš„å®¹å™¨ä¹‹é—´èƒ½å¦äº’ç›¸è®¿é—®å‘¢ï¼Ÿæˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹\né¦–å…ˆï¼Œæˆ‘ä»¬æŸ¥çœ‹ä¸‹MySQLå®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ï¼Œé‡ç‚¹å…³æ³¨å…¶ä¸­çš„ç½‘ç»œIPåœ°å€ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 # 1.ç”¨åŸºæœ¬å‘½ä»¤ï¼Œå¯»æ‰¾Networks.bridge.IPAddresså±æ€§ docker inspect mysql # ä¹Ÿå¯ä»¥ä½¿ç”¨formatè¿‡æ»¤ç»“æœ docker inspect --format=\u0026#39;{{range .NetworkSettings.Networks}}{{println .IPAddress}}{{end}}\u0026#39; mysql # å¾—åˆ°IPåœ°å€å¦‚ä¸‹ï¼š 172.17.0.2 # 2.ç„¶åé€šè¿‡å‘½ä»¤è¿›å…¥ddå®¹å™¨ docker exec -it dd bash # 3.åœ¨å®¹å™¨å†…ï¼Œé€šè¿‡pingå‘½ä»¤æµ‹è¯•ç½‘ç»œ ping 172.17.0.2 # ç»“æœ PING 172.17.0.2 (172.17.0.2) 56(84) bytes of data. 64 bytes from 172.17.0.2: icmp_seq=1 ttl=64 time=0.053 ms 64 bytes from 172.17.0.2: icmp_seq=2 ttl=64 time=0.059 ms 64 bytes from 172.17.0.2: icmp_seq=3 ttl=64 time=0.058 ms å‘ç°å¯ä»¥äº’è”ï¼Œæ²¡æœ‰é—®é¢˜ã€‚\nä½†æ˜¯ï¼Œå®¹å™¨çš„ç½‘ç»œIPå…¶å®æ˜¯ä¸€ä¸ªè™šæ‹Ÿçš„IPï¼Œå…¶å€¼å¹¶ä¸å›ºå®šä¸æŸä¸€ä¸ªå®¹å™¨ç»‘å®šï¼Œå¦‚æœæˆ‘ä»¬åœ¨å¼€å‘æ—¶å†™æ­»æŸä¸ªIPï¼Œè€Œåœ¨éƒ¨ç½²æ—¶å¾ˆå¯èƒ½MySQLå®¹å™¨çš„IPä¼šå‘ç”Ÿå˜åŒ–ï¼Œè¿æ¥ä¼šå¤±è´¥ã€‚\næ‰€ä»¥ï¼Œæˆ‘ä»¬å¿…é¡»å€ŸåŠ©äºdockerçš„ç½‘ç»œåŠŸèƒ½æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/engine/reference/commandline/network/\nå¸¸è§å‘½ä»¤æœ‰ï¼š\nå‘½ä»¤ è¯´æ˜ æ–‡æ¡£åœ°å€ docker network create åˆ›å»ºä¸€ä¸ªç½‘ç»œ docker network create docker network ls æŸ¥çœ‹æ‰€æœ‰ç½‘ç»œ docs.docker.com docker network rm åˆ é™¤æŒ‡å®šç½‘ç»œ docs.docker.com docker network prune æ¸…é™¤æœªä½¿ç”¨çš„ç½‘ç»œ docs.docker.com docker network connect ä½¿æŒ‡å®šå®¹å™¨è¿æ¥åŠ å…¥æŸç½‘ç»œ docs.docker.com docker network disconnect ä½¿æŒ‡å®šå®¹å™¨è¿æ¥ç¦»å¼€æŸç½‘ç»œ docker network disconnect docker network inspect æŸ¥çœ‹ç½‘ç»œè¯¦ç»†ä¿¡æ¯ docker network inspect æ•™å­¦æ¼”ç¤ºï¼šè‡ªå®šä¹‰ç½‘ç»œ\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 # 1.é¦–å…ˆé€šè¿‡å‘½ä»¤åˆ›å»ºä¸€ä¸ªç½‘ç»œ docker network create hmall # 2.ç„¶åæŸ¥çœ‹ç½‘ç»œ docker network ls # ç»“æœï¼š NETWORK ID NAME DRIVER SCOPE 639bc44d0a87 bridge bridge local 403f16ec62a2 hmall bridge local 0dc0f72a0fbb host host local cd8d3e8df47b none null local # å…¶ä¸­ï¼Œé™¤äº†hmallä»¥å¤–ï¼Œå…¶å®ƒéƒ½æ˜¯é»˜è®¤çš„ç½‘ç»œ # 3.è®©ddå’Œmysqléƒ½åŠ å…¥è¯¥ç½‘ç»œï¼Œæ³¨æ„ï¼Œåœ¨åŠ å…¥ç½‘ç»œæ—¶å¯ä»¥é€šè¿‡--aliasç»™å®¹å™¨èµ·åˆ«å # è¿™æ ·è¯¥ç½‘ç»œå†…çš„å…¶å®ƒå®¹å™¨å¯ä»¥ç”¨åˆ«åäº’ç›¸è®¿é—®ï¼ # 3.1.mysqlå®¹å™¨ï¼ŒæŒ‡å®šåˆ«åä¸ºdbï¼Œå¦å¤–æ¯ä¸€ä¸ªå®¹å™¨éƒ½æœ‰ä¸€ä¸ªåˆ«åæ˜¯å®¹å™¨å docker network connect hmall mysql --alias db # 3.2.dbå®¹å™¨ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬çš„javaé¡¹ç›® docker network connect hmall dd # 4.è¿›å…¥ddå®¹å™¨ï¼Œå°è¯•åˆ©ç”¨åˆ«åè®¿é—®db # 4.1.è¿›å…¥å®¹å™¨ docker exec -it dd bash # 4.2.ç”¨dbåˆ«åè®¿é—® ping db # ç»“æœ PING db (172.18.0.2) 56(84) bytes of data. 64 bytes from mysql.hmall (172.18.0.2): icmp_seq=1 ttl=64 time=0.070 ms 64 bytes from mysql.hmall (172.18.0.2): icmp_seq=2 ttl=64 time=0.056 ms # 4.3.ç”¨å®¹å™¨åè®¿é—® ping mysql # ç»“æœï¼š PING mysql (172.18.0.2) 56(84) bytes of data. 64 bytes from mysql.hmall (172.18.0.2): icmp_seq=1 ttl=64 time=0.044 ms 64 bytes from mysql.hmall (172.18.0.2): icmp_seq=2 ttl=64 time=0.054 ms OKï¼Œç°åœ¨æ— éœ€è®°ä½IPåœ°å€ä¹Ÿå¯ä»¥å®ç°å®¹å™¨äº’è”äº†ã€‚\næ€»ç»“ï¼š\nåœ¨è‡ªå®šä¹‰ç½‘ç»œä¸­ï¼Œå¯ä»¥ç»™å®¹å™¨èµ·å¤šä¸ªåˆ«åï¼Œé»˜è®¤çš„åˆ«åæ˜¯å®¹å™¨åæœ¬èº« åœ¨åŒä¸€ä¸ªè‡ªå®šä¹‰ç½‘ç»œä¸­çš„å®¹å™¨ï¼Œå¯ä»¥é€šè¿‡åˆ«åäº’ç›¸è®¿é—® 3.é¡¹ç›®éƒ¨ç½² å¥½äº†ï¼Œæˆ‘ä»¬å·²ç»ç†Ÿæ‚‰äº†Dockerçš„åŸºæœ¬ç”¨æ³•ï¼Œæ¥ä¸‹æ¥å¯ä»¥å°è¯•éƒ¨ç½²é¡¹ç›®äº†ã€‚\nåœ¨è¯¾å‰èµ„æ–™ä¸­å·²ç»æä¾›äº†ä¸€ä¸ªé»‘é©¬å•†åŸé¡¹ç›®ç»™å¤§å®¶ï¼Œå¦‚å›¾ï¼š\né¡¹ç›®è¯´æ˜ï¼š\nhmallï¼šå•†åŸçš„åç«¯ä»£ç  hmall-portalï¼šå•†åŸç”¨æˆ·ç«¯çš„å‰ç«¯ä»£ç  hmall-adminï¼šå•†åŸç®¡ç†ç«¯çš„å‰ç«¯ä»£ç  éƒ¨ç½²çš„å®¹å™¨åŠç«¯å£è¯´æ˜ï¼š\né¡¹ç›® å®¹å™¨å ç«¯å£ å¤‡æ³¨ hmall hmall 8080 é»‘é©¬å•†åŸåç«¯APIå…¥å£ hmall-portal nginx 18080 é»‘é©¬å•†åŸç”¨æˆ·ç«¯å…¥å£ hmall-admin 18081 é»‘é©¬å•†åŸç®¡ç†ç«¯å…¥å£ mysql mysql 3306 æ•°æ®åº“ åœ¨æ­£å¼éƒ¨ç½²å‰ï¼Œæˆ‘ä»¬å…ˆåˆ é™¤ä¹‹å‰çš„nginxã€ddä¸¤ä¸ªå®¹å™¨ï¼š\n1 docker rm -f nginx dd mysqlå®¹å™¨ä¸­å·²ç»å‡†å¤‡å¥½äº†å•†åŸçš„æ•°æ®ï¼Œæ‰€ä»¥å°±ä¸å†åˆ é™¤äº†ã€‚\n3.1.éƒ¨ç½²Javaé¡¹ç›® hmallé¡¹ç›®æ˜¯ä¸€ä¸ªmavenèšåˆé¡¹ç›®ï¼Œä½¿ç”¨IDEAæ‰“å¼€hmallé¡¹ç›®ï¼ŒæŸ¥çœ‹é¡¹ç›®ç»“æ„å¦‚å›¾ï¼š\næˆ‘ä»¬è¦éƒ¨ç½²çš„å°±æ˜¯å…¶ä¸­çš„hm-serviceï¼Œå…¶ä¸­çš„é…ç½®æ–‡ä»¶é‡‡ç”¨äº†å¤šç¯å¢ƒçš„æ–¹å¼ï¼š\nå…¶ä¸­çš„application-dev.yamlæ˜¯éƒ¨ç½²åˆ°å¼€å‘ç¯å¢ƒçš„é…ç½®ï¼Œapplication-local.yamlæ˜¯æœ¬åœ°è¿è¡Œæ—¶çš„é…ç½®ã€‚\næŸ¥çœ‹application.yamlï¼Œä½ ä¼šå‘ç°å…¶ä¸­çš„JDBCåœ°å€å¹¶æœªå†™æ­»ï¼Œè€Œæ˜¯è¯»å–å˜é‡ï¼š\nè¿™ä¸¤ä¸ªå˜é‡åœ¨application-dev.yamlå’Œapplication-local.yamlä¸­å¹¶ä¸ç›¸åŒï¼š\nåœ¨devå¼€å‘ç¯å¢ƒï¼ˆä¹Ÿå°±æ˜¯Dockeréƒ¨ç½²æ—¶ï¼‰é‡‡ç”¨äº†mysqlä½œä¸ºåœ°å€ï¼Œåˆšå¥½æ˜¯æˆ‘ä»¬çš„mysqlå®¹å™¨åï¼Œåªè¦ä¸¤è€…åœ¨ä¸€ä¸ªç½‘ç»œï¼Œå°±ä¸€å®šèƒ½äº’ç›¸è®¿é—®ã€‚\næˆ‘ä»¬å°†é¡¹ç›®æ‰“åŒ…ï¼š\nç»“æœï¼š\nå°†hm-serviceç›®å½•ä¸‹çš„Dockerfileå’Œhm-service/targetç›®å½•ä¸‹çš„hm-service.jarä¸€èµ·ä¸Šä¼ åˆ°è™šæ‹Ÿæœºçš„rootç›®å½•ï¼š\néƒ¨ç½²é¡¹ç›®ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 # 1.æ„å»ºé¡¹ç›®é•œåƒï¼Œä¸æŒ‡å®štagï¼Œåˆ™é»˜è®¤ä¸ºlatest docker build -t hmall . # 2.æŸ¥çœ‹é•œåƒ docker images # ç»“æœ REPOSITORY TAG IMAGE ID CREATED SIZE hmall latest 0bb07b2c34b9 43 seconds ago 362MB docker-demo 1.0 49743484da68 24 hours ago 327MB nginx latest 605c77e624dd 16 months ago 141MB mysql latest 3218b38490ce 17 months ago 516MB # 3.åˆ›å»ºå¹¶è¿è¡Œå®¹å™¨ï¼Œå¹¶é€šè¿‡--networkå°†å…¶åŠ å…¥hmallç½‘ç»œï¼Œè¿™æ ·æ‰èƒ½é€šè¿‡å®¹å™¨åè®¿é—®mysql docker run -d --name hmall --network hmall -p 8080:8080 hmall æµ‹è¯•ï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼šhttp://ä½ çš„è™šæ‹Ÿæœºåœ°å€:8080/search/list\n3.2.éƒ¨ç½²å‰ç«¯ hmall-portalå’Œhmall-adminæ˜¯å‰ç«¯ä»£ç ï¼Œéœ€è¦åŸºäºnginxéƒ¨ç½²ã€‚åœ¨è¯¾å‰èµ„æ–™ä¸­å·²ç»ç»™å¤§å®¶æä¾›äº†nginxçš„éƒ¨ç½²ç›®å½•ï¼š\nå…¶ä¸­ï¼š\nhtmlæ˜¯é™æ€èµ„æºç›®å½•ï¼Œæˆ‘ä»¬éœ€è¦æŠŠhmall-portalä»¥åŠhmall-adminéƒ½å¤åˆ¶è¿›å» nginx.confæ˜¯nginxçš„é…ç½®æ–‡ä»¶ï¼Œä¸»è¦æ˜¯å®Œæˆå¯¹htmlä¸‹çš„ä¸¤ä¸ªé™æ€èµ„æºç›®å½•åšä»£ç† æˆ‘ä»¬ç°åœ¨è¦åšçš„å°±æ˜¯æŠŠæ•´ä¸ªnginxç›®å½•ä¸Šä¼ åˆ°è™šæ‹Ÿæœºçš„/rootç›®å½•ä¸‹ï¼š\nç„¶ååˆ›å»ºnginxå®¹å™¨å¹¶å®Œæˆä¸¤ä¸ªæŒ‚è½½ï¼š\næŠŠ/root/nginx/nginx.confæŒ‚è½½åˆ°/etc/nginx/ng``inx.conf æŠŠ/root/nginx/htmlæŒ‚è½½åˆ°/usr/share/nginx/html ç”±äºéœ€è¦è®©nginxåŒæ—¶ä»£ç†hmall-portalå’Œhmall-adminä¸¤å¥—å‰ç«¯èµ„æºï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æš´éœ²ä¸¤ä¸ªç«¯å£ï¼š\n18080ï¼šå¯¹åº”hmall-portal 18081ï¼šå¯¹åº”hmall-admin å‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 docker run -d \\ --name nginx \\ -p 18080:18080 \\ -p 18081:18081 \\ -v /root/nginx/html:/usr/share/nginx/html \\ -v /root/nginx/nginx.conf:/etc/nginx/nginx.conf \\ --network hmall \\ nginx æµ‹è¯•ï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®ï¼šhttp://ä½ çš„è™šæ‹Ÿæœºip:18080\n3.3.DockerCompose å¤§å®¶å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬éƒ¨ç½²ä¸€ä¸ªç®€å•çš„javaé¡¹ç›®ï¼Œå…¶ä¸­åŒ…å«3ä¸ªå®¹å™¨ï¼š\nMySQL Nginx Javaé¡¹ç›® è€Œç¨å¾®å¤æ‚çš„é¡¹ç›®ï¼Œå…¶ä¸­è¿˜ä¼šæœ‰å„ç§å„æ ·çš„å…¶å®ƒä¸­é—´ä»¶ï¼Œéœ€è¦éƒ¨ç½²çš„ä¸œè¥¿è¿œä¸æ­¢3ä¸ªã€‚å¦‚æœè¿˜åƒä¹‹å‰é‚£æ ·æ‰‹åŠ¨çš„é€ä¸€éƒ¨ç½²ï¼Œå°±å¤ªéº»çƒ¦äº†ã€‚\nè€ŒDocker Composeå°±å¯ä»¥å¸®åŠ©æˆ‘ä»¬å®ç°å¤šä¸ªç›¸äº’å…³è”çš„Dockerå®¹å™¨çš„å¿«é€Ÿéƒ¨ç½²ã€‚å®ƒå…è®¸ç”¨æˆ·é€šè¿‡ä¸€ä¸ªå•ç‹¬çš„ docker-compose.yml æ¨¡æ¿æ–‡ä»¶ï¼ˆYAML æ ¼å¼ï¼‰æ¥å®šä¹‰ä¸€ç»„ç›¸å…³è”çš„åº”ç”¨å®¹å™¨ã€‚\n3.3.1.åŸºæœ¬è¯­æ³• docker-compose.ymlæ–‡ä»¶çš„åŸºæœ¬è¯­æ³•å¯ä»¥å‚è€ƒå®˜æ–¹æ–‡æ¡£ï¼š\nhttps://docs.docker.com/compose/compose-file/compose-file-v3/\ndocker-composeæ–‡ä»¶ä¸­å¯ä»¥å®šä¹‰å¤šä¸ªç›¸äº’å…³è”çš„åº”ç”¨å®¹å™¨ï¼Œæ¯ä¸€ä¸ªåº”ç”¨å®¹å™¨è¢«ç§°ä¸ºä¸€ä¸ªæœåŠ¡ï¼ˆserviceï¼‰ã€‚ç”±äºserviceå°±æ˜¯åœ¨å®šä¹‰æŸä¸ªåº”ç”¨çš„è¿è¡Œæ—¶å‚æ•°ï¼Œå› æ­¤ä¸docker runå‚æ•°éå¸¸ç›¸ä¼¼ã€‚\nä¸¾ä¾‹æ¥è¯´ï¼Œç”¨docker runéƒ¨ç½²MySQLçš„å‘½ä»¤å¦‚ä¸‹ï¼š\n1 2 3 4 5 6 7 8 9 10 docker run -d \\ --name mysql \\ -p 3306:3306 \\ -e TZ=Asia/Shanghai \\ -e MYSQL_ROOT_PASSWORD=123 \\ -v ./mysql/data:/var/lib/mysql \\ -v ./mysql/conf:/etc/mysql/conf.d \\ -v ./mysql/init:/docker-entrypoint-initdb.d \\ --network hmall mysql å¦‚æœç”¨docker-compose.ymlæ–‡ä»¶æ¥å®šä¹‰ï¼Œå°±æ˜¯è¿™æ ·ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 version: \u0026#34;3.8\u0026#34; services: mysql: image: mysql container_name: mysql ports: - \u0026#34;3306:3306\u0026#34; environment: TZ: Asia/Shanghai MYSQL_ROOT_PASSWORD: 123 volumes: - \u0026#34;./mysql/conf:/etc/mysql/conf.d\u0026#34; - \u0026#34;./mysql/data:/var/lib/mysql\u0026#34; networks: - new networks: new: name: hmall å¯¹æ¯”å¦‚ä¸‹ï¼š\ndocker run å‚æ•° docker compose æŒ‡ä»¤ è¯´æ˜ \u0026ndash;name container_name å®¹å™¨åç§° -p ports ç«¯å£æ˜ å°„ -e environment ç¯å¢ƒå˜é‡ -v volumes æ•°æ®å·é…ç½® \u0026ndash;network networks ç½‘ç»œ æ˜ç™½äº†å…¶ä¸­çš„å¯¹åº”å…³ç³»ï¼Œç›¸ä¿¡ç¼–å†™docker-composeæ–‡ä»¶åº”è¯¥éš¾ä¸å€’å¤§å®¶ã€‚\né»‘é©¬å•†åŸéƒ¨ç½²æ–‡ä»¶ï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 version: \u0026#34;3.8\u0026#34; services: mysql: image: mysql container_name: mysql ports: - \u0026#34;3306:3306\u0026#34; environment: TZ: Asia/Shanghai MYSQL_ROOT_PASSWORD: 123 volumes: - \u0026#34;./mysql/conf:/etc/mysql/conf.d\u0026#34; - \u0026#34;./mysql/data:/var/lib/mysql\u0026#34; - \u0026#34;./mysql/init:/docker-entrypoint-initdb.d\u0026#34; networks: - hm-net hmall: build: context: . dockerfile: Dockerfile container_name: hmall ports: - \u0026#34;8080:8080\u0026#34; networks: - hm-net depends_on: - mysql nginx: image: nginx container_name: nginx ports: - \u0026#34;18080:18080\u0026#34; - \u0026#34;18081:18081\u0026#34; volumes: - \u0026#34;./nginx/nginx.conf:/etc/nginx/nginx.conf\u0026#34; - \u0026#34;./nginx/html:/usr/share/nginx/html\u0026#34; depends_on: - hmall networks: - hm-net networks: hm-net: name: hmall 3.3.2.åŸºç¡€å‘½ä»¤ ç¼–å†™å¥½docker-compose.ymlæ–‡ä»¶ï¼Œå°±å¯ä»¥éƒ¨ç½²é¡¹ç›®äº†ã€‚å¸¸è§çš„å‘½ä»¤ï¼š\nhttps://docs.docker.com/compose/reference/\nåŸºæœ¬è¯­æ³•å¦‚ä¸‹ï¼š\n1 docker compose [OPTIONS] [COMMAND] å…¶ä¸­ï¼ŒOPTIONSå’ŒCOMMANDéƒ½æ˜¯å¯é€‰å‚æ•°ï¼Œæ¯”è¾ƒå¸¸è§çš„æœ‰ï¼š\nç±»å‹ å‚æ•°æˆ–æŒ‡ä»¤ è¯´æ˜ Options -f æŒ‡å®šcomposeæ–‡ä»¶çš„è·¯å¾„å’Œåç§° -p æŒ‡å®šprojectåç§°ã€‚projectå°±æ˜¯å½“å‰composeæ–‡ä»¶ä¸­è®¾ç½®çš„å¤šä¸ªserviceçš„é›†åˆï¼Œæ˜¯é€»è¾‘æ¦‚å¿µ Commands up åˆ›å»ºå¹¶å¯åŠ¨æ‰€æœ‰serviceå®¹å™¨ down åœæ­¢å¹¶ç§»é™¤æ‰€æœ‰å®¹å™¨ã€ç½‘ç»œ ps åˆ—å‡ºæ‰€æœ‰å¯åŠ¨çš„å®¹å™¨ logs æŸ¥çœ‹æŒ‡å®šå®¹å™¨çš„æ—¥å¿— stop åœæ­¢å®¹å™¨ start å¯åŠ¨å®¹å™¨ restart é‡å¯å®¹å™¨ top æŸ¥çœ‹è¿è¡Œçš„è¿›ç¨‹ exec åœ¨æŒ‡å®šçš„è¿è¡Œä¸­å®¹å™¨ä¸­æ‰§è¡Œå‘½ä»¤ æ•™å­¦æ¼”ç¤ºï¼š\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 # 1.è¿›å…¥rootç›®å½• cd /root # 2.åˆ é™¤æ—§å®¹å™¨ docker rm -f $(docker ps -qa) # 3.åˆ é™¤hmallé•œåƒ docker rmi hmall # 4.æ¸…ç©ºMySQLæ•°æ® rm -rf mysql/data # 5.å¯åŠ¨æ‰€æœ‰, -d å‚æ•°æ˜¯åå°å¯åŠ¨ docker compose up -d # ç»“æœï¼š [+] Building 15.5s (8/8) FINISHED =\u0026gt; [internal] load build definition from Dockerfile 0.0s =\u0026gt; =\u0026gt; transferring dockerfile: 358B 0.0s =\u0026gt; [internal] load .dockerignore 0.0s =\u0026gt; =\u0026gt; transferring context: 2B 0.0s =\u0026gt; [internal] load metadata for docker.io/library/openjdk:11.0-jre-buster 15.4s =\u0026gt; [1/3] FROM docker.io/library/openjdk:11.0-jre-buster@sha256:3546a17e6fb4ff4fa681c3 0.0s =\u0026gt; [internal] load build context 0.0s =\u0026gt; =\u0026gt; transferring context: 98B 0.0s =\u0026gt; CACHED [2/3] RUN ln -snf /usr/share/zoneinfo/Asia/Shanghai /etc/localtime \u0026amp;\u0026amp; echo 0.0s =\u0026gt; CACHED [3/3] COPY hm-service.jar /app.jar 0.0s =\u0026gt; exporting to image 0.0s =\u0026gt; =\u0026gt; exporting layers 0.0s =\u0026gt; =\u0026gt; writing image sha256:32eebee16acde22550232f2eb80c69d2ce813ed099640e4cfed2193f71 0.0s =\u0026gt; =\u0026gt; naming to docker.io/library/root-hmall 0.0s [+] Running 4/4 âœ” Network hmall Created 0.2s âœ” Container mysql Started 0.5s âœ” Container hmall Started 0.9s âœ” Container nginx Started 1.5s # 6.æŸ¥çœ‹é•œåƒ docker compose images # ç»“æœ CONTAINER REPOSITORY TAG IMAGE ID SIZE hmall root-hmall latest 32eebee16acd 362MB mysql mysql latest 3218b38490ce 516MB nginx nginx latest 605c77e624dd 141MB # 7.æŸ¥çœ‹å®¹å™¨ docker compose ps # ç»“æœ NAME IMAGE COMMAND SERVICE CREATED STATUS PORTS hmall root-hmall \u0026#34;java -jar /app.jar\u0026#34; hmall 54 seconds ago Up 52 seconds 0.0.0.0:8080-\u0026gt;8080/tcp, :::8080-\u0026gt;8080/tcp mysql mysql \u0026#34;docker-entrypoint.sâ€¦\u0026#34; mysql 54 seconds ago Up 53 seconds 0.0.0.0:3306-\u0026gt;3306/tcp, :::3306-\u0026gt;3306/tcp, 33060/tcp nginx nginx \u0026#34;/docker-entrypoint.â€¦\u0026#34; nginx 54 seconds ago Up 52 seconds 80/tcp, 0.0.0.0:18080-18081-\u0026gt;18080-18081/tcp, :::18080-18081-\u0026gt;18080-18081/tcp æ‰“å¼€æµè§ˆå™¨ï¼Œè®¿é—®ï¼šhttp://yourIp:8080\n","date":"0001-01-01T00:00:00Z","permalink":"https://gkxgithub.github.io/p/","title":""}]